openapi: 3.1.0
info:
  title: Online Care API
  description: |
    ## Security

    In the near term we are using Fabric for our Identity server. Therefore the registration, forgotten password,
    and login are done as oauth redirects to their system.  So for the RVOH backend we only needs to deal with three cases
    - No token needed (create guest visit)
    - Cookie GVID/Token (for guest visit until account creation)
    - Fabric generated JWT
    We will need to refresh the token, so an endpoint is included for that purpose.

    ## Property Considerations

    - Properties are assumed to be non-nullable unless otherwise stated
    - `additionalProperties` are allowed (`true`) unless otherwise stated
  version: '1739560519'
  license:
    name: private
    url: https://www.rvohealth.com/legal/terms
servers:
  - url: https://online-care-develop-lwa.azurewebsites.net/api/v1
    description: Dev deployment
  - url: https://online-care-stage-lwa.azurewebsites.net/api/v1
    description: Stage deployment
security:
  - bearerAuth: []
tags:
  - name: Accounts
    description: Patient Account Information.
  - name: Admin
    description: Administrative operations on the server.
  - name: Conditions
    description: Health Conditions perks can offer consultation.
  - name: Deprecated
    description: Endpoints that will be removed as we move forward.
  - name: Drugs
    description: HealthDyne drug list currently updated via csv upload.
  - name: Guest visits
    description: Operations related to guest visits.
  - name: HSID
    description: Operations related to health safe id.
  - name: Notifications
    description: Operations related to notifications.
  - name: Order
    description: Operations related to prescription home delivery order.
  - name: Patients
    description: Operations related to patient information.
  - name: Payments
    description: Initialize payments via Stripe.
  - name: Pharmacy
    description: Operations related to pharmacies.
  - name: Search
    description: Operations related to search.
  - name: Session Data
    description: |
      ### parameters

      Session data for token and user info management stored in redis.
      ```
      {
        sessionId: 987,
        cosmosId: 876,
        fabricId: 765,
        clinicSerial: "",
        userId: 123,
        roles: [""],
        token: "",
        fabricExpires: ""
        tokenExpires: "",
      }
      ```

      ### workflow

      - handle store on user login.
      - on Fabric token → store expiry time at fabricExpires.
      - check fabric/tokenExpires for refresh handle.
  - name: Token management
    description: Operations related to token management.
  - name: Treatment plan
    description: Operations related to fetching treatment plans.
  - name: Visits
    description: Operations related to visits.
  - name: Webhooks
    description: Operations related to webhooks.
paths:
  /accounts:
    put:
      summary: |
        Updated a user account info HSID/ADB2C, Fabric, Stripe, etc..
      description: |
        After the user updates his profile, 
        updates info in all the relevant places.
      operationId: putAccount
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Adb2cClaimsUpdate'
      responses:
        '201':
          description: Created
        '401':
          $ref: '#/components/responses/Error401Response'
        '403':
          $ref: '#/components/responses/Error403Response'
      tags:
        - Accounts
  /accounts/login:
    post:
      summary: |
        Associate user account to session from HSID/ADB2C authorization
      description: |
        After the user logs into their account in HSID flow, 
        redirects to FE and they call this endpoint with token for normal workflow.
      operationId: postLogin
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Adb2cToken'
      responses:
        '201':
          description: Created
        '401':
          $ref: '#/components/responses/Error401Response'
        '403':
          $ref: '#/components/responses/Error403Response'
      tags:
        - Accounts
  /accounts/logout:
    post:
      summary: |
        Logout a user account from HSID/ADB2C (as a whole)
      description: |
        Logs a user account out of the entire HSID ecosystem.
      operationId: postLogout
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '204':
          description: No Content
        '401':
          $ref: '#/components/responses/Error401Response'
        '403':
          $ref: '#/components/responses/Error403Response'
      tags:
        - Accounts
  /accounts/confirm:
    post:
      summary: |
        Confirm a new account
      description: |
        Confirm the new account of a user through a confirmation token sent to their email
      operationId: postConfirmAccount
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenVerify'
      responses:
        '201':
          description: Created
        '401':
          $ref: '#/components/responses/Error401Response'
        '403':
          $ref: '#/components/responses/Error403Response'
      tags:
        - Accounts
        - Deprecated
  /accounts/{account-id}:
    get:
      operationId: getAccountById
      summary: Get the details of a account
      description: |
        Returns the selected account at a detailed level
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/account-id'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Accounts
    put:
      operationId: putAccountById
      summary: Update the details of a account
      description: |
        Updates the selected account and returns the updated fields
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/account-id'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AccountUpdate'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Accounts
  /conditions:
    get:
      operationId: getConditionsByCategory
      summary: Get a list of conditions organized by category
      description: |
        Returns a list of conditions, by category, at a summary level.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/category'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConditionListByCategory'
        '401':
          $ref: '#/components/responses/Error401Response'
      tags:
        - Conditions
  /conditions/{condition-legacy}:
    get:
      operationId: getConditionLegacy
      summary: |
        Legacy endpoint to Get the details of a condition using either Fabric Label or a Url Slug.
      description: |
        Returns the selected health condition at a detailed level,
        including approved treatments and prices if available.

        This Legacy endpoint for fetching condition details was added to 
        allow existing tests to continue working.  In the future please 
        use 

        ```/conditions/labels/:label``` 

        OR 

        ```/conditions/url-slugs/:slug```

        Attempts to load the conditions map in the DB.  If it exists 
        it matches the id with either the fabricLabel or the urlSlug and proceeds. 
        If it does not exist, it assumes it is the label and proceeds.*
      security:
        - {}
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/condition-legacy'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: |
            OK 
            ## All Data
            If all data sources are available, 
            returns a detailed listing of the health condition, include 
            - descriptions
            - icons
            - treatment options 
            - lowest prices on treatments
            ## Fabric Only
            returns a detailing listing of the health condition, however if it 
            option have Fabric's treatment options and no pricing information.
          headers:
            session-token:
              $ref: '#/components/headers/session-token'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Condition'
              examples:
                all-data:
                  $ref: '#/components/examples/all-data'
                fabric-only:
                  $ref: '#/components/examples/fabric-only'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Conditions
  /conditions/labels/{condition-label}:
    get:
      operationId: getConditionByLabel
      summary: |
        Get the details of a condition using the Fabric Label.
      description: |
        Fetches a health condition using the Fabric Label.  Returns a detailed view health condition,
        including approved treatments and prices if the condition is mapped to a Perks XAPI health condition and the data 
        is available.
      security:
        - {}
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/condition-label'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: |
            OK 
            ## All Data
            If all data sources are available, 
            returns a detailed listing of the health condition, include 
            - descriptions
            - icons
            - treatment options 
            - lowest prices on treatments
            ## Fabric Only
            returns a detailing listing of the health condition, however if it 
            option have Fabric's treatment options and no pricing information.
          headers:
            session-token:
              $ref: '#/components/headers/session-token'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Condition'
              examples:
                all-data:
                  $ref: '#/components/examples/all-data'
                fabric-only:
                  $ref: '#/components/examples/fabric-only'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Conditions
  /conditions/url-slugs/{url-slug}:
    get:
      operationId: getConditionByUrlSlug
      summary: |
        Get the details of a health condition using url-slug.
      description: |
        Fetches a health condition using a url-slug. If the slug is in the conditions mapping DB, then it fetches the 
        Fabric clinical condition by the corresponding label.  If not, it returns a 404.  
        Once the Fabric condition is found, it queries for the Perks X-API condition by url-slug.  If that is found, It 
        returns a detailed view health condition, including approved treatments and prices. 
        If it is not available on Perks X-API, it returns the Fabric condition information.
      security:
        - {}
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/url-slug'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: |
            OK 
            ## All Data
            If all data sources are available, 
            returns a detailed listing of the health condition, include 
            - descriptions
            - icons
            - treatment options 
            - lowest prices on treatments
            ## Fabric Only
            returns a detailing listing of the health condition, however it 
            option have Fabric's treatment options and no pricing information.
          headers:
            session-token:
              $ref: '#/components/headers/session-token'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Condition'
              examples:
                all-data:
                  $ref: '#/components/examples/all-data'
                fabric-only:
                  $ref: '#/components/examples/fabric-only'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Conditions
  /conditions/upload:
    post:
      operationId: postConditions
      summary: Update condition mapping record(s) by CSV file upload
      description: |
        Updates condition mapping record(s) by CSV file upload,
        clears any records not included in the CSV.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ConditionMappingCsv'
            encoding:
              file:
                contentType: text/csv
      responses:
        '201':
          description: OK
        '400':
          description: Bad Request - no file provided || invalid file type. only csv files are allowed
      tags:
        - Conditions
  /drugs:
    get:
      operationId: getDrugs
      summary: Find items by NDC or name
      description: Returns array of object(s) depending on query parameter.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/ndc'
        - $ref: '#/components/parameters/name'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: Result(s) found.
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Drug'
        '401':
          description: Unauthorized.
      tags:
        - Drugs
  /drugs/upload:
    post:
      operationId: postDrugs
      summary: Update drug list record(s) by CSV file upload
      description: |
        Updates drug list record(s) by CSV file upload,
        clears any records not included in the CSV.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/DrugListCsv'
            encoding:
              file:
                contentType: text/csv
      responses:
        '201':
          description: OK
        '400':
          description: Bad Request - no file provided || invalid file type. only csv files are allowed
      tags:
        - Drugs
  /guest-visits:
    post:
      operationId: postGuestVisit
      summary: Create Guest Visit
      description: |
        Creates a guest visit.
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
        - $ref: '#/components/parameters/utmSource'
        - $ref: '#/components/parameters/utmMedium'
        - $ref: '#/components/parameters/utmCampaign'
        - $ref: '#/components/parameters/utmTerm'
        - $ref: '#/components/parameters/utmContent'
      security:
        - bearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GuestVisitInput'
      responses:
        '201':
          description: Created
          headers:
            Set-Cookie:
              description: |
                This cookie acts as a temporary access token that must be retained and sent in subsequent guest_visits requests. The cookie expires in two hours. There is no option to refresh the token so the guest visit must be completed within the timeframe.
              schema:
                type: string
              example:
                GVIDCookieExample:
                  summary: Example GVID cookie
                  value: GVID=9QVmrGhIP3Q2CzBJXSh7HOY8T4jOdEBiT%2B4X2w4Tizkio6csjbe3M3Cfs5ZMZ7nCXDcxzHA3wyNSO6e%2FfyfLOsvb0isFaAl53z%2Fd6bDafGlyQmimRfItZwbA6BplcKglhurCGr3tOMKgpDi7h4pGiZnK%2BJ2K--FeG4KN4JaX83oV%2B4--s7UxQO4w%2BDjray3ieUTKuw%3D%3D;
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Visit'
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error422UnprocessableEntity'
              example:
                status: 422
                errors:
                  - message: Address state can't be blank
                    reason: address_state
                  - message: Patient gender can't be blank
                    reason: patient_gender
                  - message: Patient age can't be blank
                    reason: patient_age
                message: Unprocessable Entity
      tags:
        - Guest visits
  /guest-visits/eligibility:
    get:
      operationId: getGuestVisitEligibility
      summary: Get Guest Visit Eligibility Content
      description: |
        Get eligibility content for guest visit
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GuestVisitEligibility'
        '400':
          $ref: '#/components/responses/Error400Response'
      tags:
        - Guest visits
  /guest-visits/{visit-id}/interaction:
    get:
      operationId: getGuestVisitInteraction
      summary: Current guest visit interaction
      description: |
        Retrieves a guest visit interaction.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Interaction'
              examples:
                clinical_interview:
                  $ref: '#/components/examples/clinicalInterviewInteraction'
                current_medications:
                  $ref: '#/components/examples/currentMedicationsInteraction'
                photo_upload:
                  $ref: '#/components/examples/imageUploadInteraction'
                prompt_to_register:
                  $ref: '#/components/examples/promptToRegisterInteraction'
                reason_for_visit:
                  $ref: '#/components/examples/reasonForVisitInteraction'
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                description: Unprocessable Entity
                type: object
                properties:
                  status:
                    type: number
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        message:
                          type: string
                        reason:
                          type: string
                  message:
                    type: string
                example:
                  status: 422
                  errors:
                    - message: q884 response is required
                      reason: q884
                    - message: q885 response is required
                      reason: q885
                  message: Unprocessable Entity
      tags:
        - Guest visits
    post:
      operationId: postGuestVisitInteraction
      summary: Next guest visit interaction
      description: |
        Handles a guest visit interaction.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InteractionInput'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Interaction'
              examples:
                clinical_interview:
                  $ref: '#/components/examples/clinicalInterviewInteraction'
                current_medications:
                  $ref: '#/components/examples/currentMedicationsInteraction'
                photo_upload:
                  $ref: '#/components/examples/imageUploadInteraction'
                prompt_to_register:
                  $ref: '#/components/examples/promptToRegisterInteraction'
                reason_for_visit:
                  $ref: '#/components/examples/reasonForVisitInteraction'
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                description: Unprocessable Entity
                type: object
                properties:
                  status:
                    type: number
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        message:
                          type: string
                        reason:
                          type: string
                  message:
                    type: string
                example:
                  status: 422
                  errors:
                    - message: q884 response is required
                      reason: q884
                    - message: q885 response is required
                      reason: q885
                  message: Unprocessable Entity
      tags:
        - Guest visits
  /guest-visits/{visit-id}/create-image:
    post:
      operationId: postGuestVisitImage
      summary: Create Image
      description: |
        Handles uploading images for guest visit interaction for a particular question.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/Content-Type'
        - $ref: '#/components/parameters/GVID'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ImageInput'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Image'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error403Forbidden'
      tags:
        - Guest visits
  /guest-visits/{visit-id}/remove-image:
    delete:
      operationId: deleteGuestVisitImage
      summary: Delete Image
      description: |
        Handles deleting images for guest visit interaction.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/GVID'
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/imageId'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '204':
          description: No Content
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error404NotFound'
      tags:
        - Guest visits
  /patients:
    get:
      operationId: getPatients
      summary: List patients
      description: |
        Returns a list of patients for the current user. This includes both the primary patient (current user) and any
        dependent patients attached to the primary patient account.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PatientList'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Patients
    post:
      operationId: postPatient
      summary: Create a dependent
      description: |
        Creates a new patient dependent for the primary patient account (current user).
        Returns the newly created patient record.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatientCreatePayload'
      responses:
        '200':
          description: Patient created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PatientRecord'
        '400':
          $ref: '#/components/responses/Error400Response'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Patients
  /patients/{patient-id}/visits:
    get:
      operationId: getPatientVisits
      summary: Get All Visits for Patient ID
      description: |
        Retrieves a list of visits for a specified patient ID
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/patient-id'
        - $ref: '#/components/parameters/page'
        - $ref: '#/components/parameters/limit'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PatientVisitHistory'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Patients
  /patients/{patient-id}/details:
    get:
      operationId: getPatientDetails
      summary: Get patient details
      description: |
        Get a patient's details
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
        - $ref: '#/components/parameters/patient-id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PatientDetails'
        '401':
          $ref: '#/components/responses/Error401Response'
        '403':
          $ref: '#/components/responses/Error403Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Patients
    patch:
      operationId: patchPatientDetails
      summary: Update patient details
      description: |
        Update a patient's details
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
        - $ref: '#/components/parameters/patient-id'
      requestBody:
        description: |
          Patient data to be updated
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatientDetails'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PatientDetails'
        '401':
          $ref: '#/components/responses/Error401Response'
        '403':
          $ref: '#/components/responses/Error403Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Patients
  /patients/{patient-id}/allergies:
    get:
      operationId: getPatientAllergies
      summary: List patient allergies
      description: Returns an array of allergies for the given patient.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/patient-id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Allergy'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Patients
  /patients/{patient-id}/medications:
    get:
      operationId: getPatientMedications
      summary: List patient medications
      description: Returns an array of medications for the given patient.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/patient-id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Medication'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Patients
  /patients/{patient-id}/allergies-medications:
    get:
      operationId: getPatientAllergiesMedications
      summary: List patient allergies and medications
      description: Returns an array of medications for the given patient.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/patient-id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllergyMedicationPayload'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Patients
  /patients/{patient-id}/mail-order-requests:
    get:
      operationId: getPatientMailOrderRequests
      summary: Get patient's prescription mail order requests
      description: |
        Get a patient's prescription mail order requests
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/patient-id'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PatientMailOrderRequest'
        '401':
          $ref: '#/components/responses/Error401Response'
        '403':
          $ref: '#/components/responses/Error403Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Patients
  /healthchecks:
    get:
      operationId: getHealthCheck
      summary: Get the health of server, redis, and cosmoDB
      description: |
        Returns the connection status of the server, redis, 
        and cosmoDB.  This endpoint allows developers and clients to 
        verify the state of the backend to troubleshoot
      security:
        - {}
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: |
            OK Response represents the state of the Async Server, the Redis Cache, and the Database
          headers:
            session-token:
              $ref: '#/components/headers/session-token'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HealthCheck'
              examples:
                nominal:
                  $ref: '#/components/examples/nominal'
                failedDB:
                  $ref: '#/components/examples/failedDB'
                redisWait:
                  $ref: '#/components/examples/redisWait'
                redisReconnecting:
                  $ref: '#/components/examples/redisReconnecting'
                redisConnecting:
                  $ref: '#/components/examples/redisConnecting'
                redisConnect:
                  $ref: '#/components/examples/redisConnect'
                redisClose:
                  $ref: '#/components/examples/redisClose'
                redisEnd:
                  $ref: '#/components/examples/redisEnd'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Admin
  /metrics:
    get:
      operationId: getPerformanceMetrics
      summary: Get performance metrics for the Node.js process
      description: |
        The data in this endpoint is logged periodically, 
        however this endpoint allows for on-demand access to the same data
      security:
        - {}
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
        - $ref: '#/components/parameters/X-Admin-Key'
        - $ref: '#/components/parameters/reset'
      responses:
        '200':
          description: |
            OK Response returns current performance metrics for the server's process.
          content:
            application/json:
              schema:
                type: object
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Admin
  /notifications:
    get:
      operationId: getPatientNotifications
      summary: List patient's notifications
      description: |
        Returns a list of notifications.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: Notification object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notification'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Notifications
    put:
      operationId: putPatientNotification
      summary: Updates a notification as being read by the patient
      description: |
        Updated the read property which is reflected in the viewed_at property.
        Before being read, the value is null, after being read the value is the date-time
        the notification was queried from the API.
        Returns the notification.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: Notification object returned with it's updated content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notification'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Notifications
  /payments:
    post:
      operationId: postCreatePaymentIntent
      summary: Create a Stripe payment intent
      description: |
        Returns a patent intent & client secret used to complete customer transaction on ui side.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PaymentIntentInput'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentIntent'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Payments
    get:
      operationId: getPaymentIntents
      summary: Fetch all Stripe payment intent
      description: |
        Returns a list of payments (intents) for a customer id associated with this account 
        (Redis (token) ----> DB lookup (Fabric Patient Id))
      security:
        - bearerAuth: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentIntents'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Payments
  /payments/{pi-secret}:
    get:
      operationId: getPaymentIntent
      summary: Fetch Stripe payment intent by piSecret
      description: |
        Returns a specific payments (intents) for a piSecret associated with this account.

        For the failedPaymentIntent example:
        - `status: requires_payment_method` indicates a `PaymentIntent` failure. See: https://docs.stripe.com/payments/paymentintents/lifecycle.
        - `lastPaymentError`: Contains the error details. Specific info about the error can be interpreted from the `code` and `decline_code` fields.
          For more info on `code` and `decline_code`, see: https://docs.stripe.com/error-codes, https://docs.stripe.com/declines/codes.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/pi-secret'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentIntentDetail'
              examples:
                successfulPaymentIntent:
                  $ref: '#/components/examples/successfulPaymentIntent'
                failedPaymentIntent:
                  $ref: '#/components/examples/failedPaymentIntent'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Payments
  /payments/promo-codes/{promo-code}:
    get:
      operationId: getPromoCode
      summary: Verify promo code with stripe and return discount if available
      description: |
        Verifies a promo code is legitimate and returns the discount if it is.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/promo-code'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentDiscount'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Payments
  /payment-methods:
    post:
      operationId: postCreatePaymentMethod
      summary: Create a payment method hash
      description: |
        Adds a payment method (hash) to a online care customer.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PaymentMethod'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentMethod'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Payments
    get:
      operationId: getPaymentMethods
      summary: Fetch all Stripe payment methods for this account
      description: |
        Returns a list of payments methods hashes associated with this account
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentMethods'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Payments
  /payment-methods/{patient-method-name}:
    put:
      operationId: putUpdatePaymentMethod
      summary: Update a payment method hash
      description: |
        Updates a payment method (hash) to a online care customer.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/payment-method-name'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PaymentMethod'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentMethod'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Payments
    get:
      operationId: getPaymentMethodByName
      summary: Fetch a specific Stripe payment methods for this account
      description: |
        Returns a payments methods hash by name associated with this account
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/payment-method-name'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentMethods'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Payments
  /pharmacies/{visit-id}:
    get:
      operationId: getPharmacyListByVisitId
      summary: Get the details of the available pharmacies for a treatment plan (visit)
      description: |
        Returns a list of pharmacies that have all drugs/prices on the treatment plant available, sorted primarily by ascending price and secondarily by pharmacy name descending alphabetically. Items lacking pricing will be at the bottom of the list.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/deliveryType'
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/zipCode'
        - $ref: '#/components/parameters/pharmacyName'
        - $ref: '#/components/parameters/ndc'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PharmacyList'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Pharmacy
  /pharmacies/{pharmacy-id}/prescriptions/{visit-id}:
    get:
      operationId: getSelectPharmacyForVisit
      summary: Get pharmacy details
      description: |
        Get pharamcy details for a specific pharmacy relative 
        to the prescription (Fabric OR Healthdyne) to the Pharmacy chosen by the patient.  
        Includes coupons/discounts if applicable.
        Returns the details of the pharmacy selected.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/pharmacy-id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Pharmacy'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Pharmacy
    put:
      operationId: putSelectPharmacyForVisit
      summary: Select a pharmacy to send the prescription and discounts
      description: |
        Sends the prescription (Fabric OR Healthdyne) to the Pharmacy chosen by the patient.  
        Includes coupons/discounts if applicable.
        Returns the details of the pharmacy selected.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/pharmacy-id'
      requestBody:
        description: |
          Visit and pharmacy to send prescription.
          Optionally, discount coupon ids.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PharmacySelection'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Pharmacy'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Pharmacy
  /search/allergy-names:
    get:
      operationId: getAllergyNames
      summary: Get Allergy Names
      description: |
        Search and get a list of allergy names
      parameters:
        - $ref: '#/components/parameters/searchQuery'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NameSearchResponse'
              examples:
                allergy-names:
                  $ref: '#/components/examples/allergyNames'
        '400':
          $ref: '#/components/responses/Error400Response'
      tags:
        - Search
  /search/drug-names:
    get:
      operationId: getDrugNames
      summary: Get Drug Names
      description: |
        Search and get a list of drug names
      parameters:
        - $ref: '#/components/parameters/searchQuery'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NameSearchResponse'
              examples:
                drug-names:
                  $ref: '#/components/examples/drugNames'
        '400':
          $ref: '#/components/responses/Error400Response'
      tags:
        - Search
  /sessions:
    get:
      operationId: getSessionData
      summary: Get Session Data
      description: |
        Returns the current session data.
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
        - $ref: '#/components/parameters/X-Admin-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SessionData'
        '401':
          $ref: '#/components/responses/Error401Response'
      tags:
        - Admin
  /tokens/refresh:
    get:
      operationId: getToken
      summary: Refresh token
      description: |
        Allows a current token to be exchanged for a new one.
        If the token is expired returns a 401.
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Token'
        '401':
          $ref: '#/components/responses/Error401Response'
      tags:
        - Token management
  /tokens/expire:
    delete:
      operationId: deleteToken
      summary: Expire token
      description: |
        Expires the Zipnosis Token in the header.
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '204':
          description: No Content
        '401':
          $ref: '#/components/responses/Error401Response'
      tags:
        - Token management
  /tokens/verify:
    put:
      operationId: putToken
      summary: Verify token
      description: |
        Verifies a new account from email code and token. Note that the
        token is *not* in the header but in the body along with the verification code.
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenVerify'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Token'
        '401':
          $ref: '#/components/responses/Error401Response'
      tags:
        - Token management
  /tokens/gvid:
    get:
      operationId: getGVIDToken
      summary: Get GVID Token
      description: |
        Allows the client to grab the raw GVID token if it needs to send this to Fabric for un/pw association. Needed while we register and auth through the Fabric whitelabel App in an iFrame.
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GVID'
        '401':
          $ref: '#/components/responses/Error401Response'
      tags:
        - Token management
  /tokens/set-fabric:
    post:
      operationId: postFabricToken
      summary: Associate Fabric Token with this user/session
      description: |
        Associates a valid fabric token with the session
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FabricToken'
      responses:
        '201':
          description: OK
        '401':
          $ref: '#/components/responses/Error401Response'
      tags:
        - Token management
  /treatment-plans/{visit-id}/refills/status:
    get:
      operationId: getOrderStatus
      summary: Get the status of a home delivery order for a given visit ID
      description: |
        Returns the status of a home delivery order for a given visit ID
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/visit-id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HomeDeliveryOrderStatus'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Order
  /treatment-plans/{visit-id}:
    get:
      operationId: getTreatmentPlanById
      summary: Get treatment plan
      description: |
        Fetch a treatment plan after a completed consult.
        This uses the GET visit by Id api in Fabric for completed visits.
      parameters:
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/User-Agent'
        - $ref: '#/components/parameters/Accept-Language'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TreatmentPlan'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Treatment plan
  /treatment-plans/{visit-id}/report:
    get:
      operationId: getTreatmentPlanReport
      summary: Get treatment plan report
      description: |
        Fetch a treatment plan report after a completed consult.
        This uses the GET visit report by id api in Fabric for completed visits.
      parameters:
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TreatmentPlanReport'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Treatment plan
  /treatment-plans/{visit-id}/comments:
    post:
      operationId: postTreatmentPlanComment
      summary: Post comment/question on treatment plan
      description: |
        Send comment or question to provider AFTER viewing treatment plan.
        Limited to 1 day after provider submits treatment plan back to patient.
        When posting we expect the front-end to include the patient's phone number inside the comment.
      parameters:
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                comment:
                  type: string
                  description: |
                    The comment/question to post.
                    The patient's phone number should be included in the comment.
              example:
                comment: 'Should I stop taking this if my symptoms improve?<br>Patient''s phone number is: 1 (320) 310-9771'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TreatmentPlanComment'
        '401':
          $ref: '#/components/responses/Error401Response'
      tags:
        - Treatment plan
  /treatment-plans/contents/data/{patient-name}:
    get:
      operationId: getTreatmentPlanSuccessMessage
      summary: Get treatment plan success message
      description: |
        Fetch content for a treatment plan success message after a completed consult.
        This uses the GET content api in Fabric.
      parameters:
        - $ref: '#/components/parameters/patient-name'
        - $ref: '#/components/parameters/User-Agent'
        - $ref: '#/components/parameters/Accept-Language'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TreatmentPlanSuccessContent'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401Unauthorized'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error404NotFound'
      tags:
        - Treatment plan
  /treatment-plans/{visit-id}/school-work-notes/download:
    get:
      operationId: getSchoolOrWorkNotesDownload
      summary: Download school or work notes for a treatment plan
      description: |
        Returns a pdf file of the school or work notes for a treatment plan.
      parameters:
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/pdf:
              schema:
                type: string
                format: binary
          headers:
            Content-Disposition:
              schema:
                type: string
              example:
                value: attachment; filename="school_work_note_08-29-2024_190507.pdf"; filename*=UTF-8''school_work_note_08-29-2024_190507.pdf
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Treatment plan
  /treatment-plans/{visit-id}/report-receipt:
    get:
      operationId: getTreatmentPlanReportReceipt
      summary: Get treatment plan report receipt
      description: |
        Fetch a treatment plan report receipt after a completed consult.
        This uses the Stripe GET /payment_intents/:id https://docs.stripe.com/api/payment_intents
        This uses the Stripe GET /charges/:id https://docs.stripe.com/api/charges
        This uses the Stripe GET /invoices/:id https://docs.stripe.com/api/invoices 
      parameters:
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/User-Agent'
        - $ref: '#/components/parameters/Accept-Language'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReportReceipt'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Treatment plan
  /visits:
    get:
      operationId: getVisits
      summary: Get All Visits
      description: |
        Gets a list of the users most recent visits
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PatientVisitHistory'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Visits
    post:
      operationId: postVisit
      summary: Create Visit
      description: |
        Creates a visit.
      parameters:
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
        - $ref: '#/components/parameters/utmSource'
        - $ref: '#/components/parameters/utmMedium'
        - $ref: '#/components/parameters/utmCampaign'
        - $ref: '#/components/parameters/utmTerm'
        - $ref: '#/components/parameters/utmContent'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VisitInput'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Visit'
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error422UnprocessableEntity'
      tags:
        - Visits
  /visits/{visit-id}/interaction:
    get:
      operationId: getVisitInteraction
      summary: Current visit interaction
      description: |
        Retrieve an authenticated user's visit interaction.
      parameters:
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/User-Agent'
        - $ref: '#/components/parameters/Accept-Language'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Interaction'
              examples:
                clinical_interview:
                  $ref: '#/components/examples/clinicalInterviewInteraction'
                current_medications:
                  $ref: '#/components/examples/currentMedicationsInteraction'
                photo_upload:
                  $ref: '#/components/examples/imageUploadInteraction'
                prompt_to_register:
                  $ref: '#/components/examples/promptToRegisterInteraction'
                reason_for_visit:
                  $ref: '#/components/examples/reasonForVisitInteraction'
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                description: Unprocessable Entity
                type: object
                properties:
                  status:
                    type: number
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        message:
                          type: string
                        reason:
                          type: string
                  message:
                    type: string
                example:
                  status: 422
                  errors:
                    - message: q884 response is required
                      reason: q884
                    - message: q885 response is required
                      reason: q885
                  message: Unprocessable Entity
      tags:
        - Visits
    post:
      operationId: postVisitInteraction
      summary: Next visit interaction
      description: |
        Handles an authenticated user's visit interaction.
      parameters:
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/User-Agent'
        - $ref: '#/components/parameters/Accept-Language'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InteractionInput'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Interaction'
              examples:
                clinical_interview:
                  $ref: '#/components/examples/clinicalInterviewInteraction'
                current_medications:
                  $ref: '#/components/examples/currentMedicationsInteraction'
                photo_upload:
                  $ref: '#/components/examples/imageUploadInteraction'
                prompt_to_register:
                  $ref: '#/components/examples/promptToRegisterInteraction'
                reason_for_visit:
                  $ref: '#/components/examples/reasonForVisitInteraction'
        '422':
          description: Unprocessable Entity
          content:
            application/json:
              schema:
                description: Unprocessable Entity
                type: object
                properties:
                  status:
                    type: number
                  errors:
                    type: array
                    items:
                      type: object
                      properties:
                        message:
                          type: string
                        reason:
                          type: string
                  message:
                    type: string
                example:
                  status: 422
                  errors:
                    - message: q884 response is required
                      reason: q884
                    - message: q885 response is required
                      reason: q885
                  message: Unprocessable Entity
      tags:
        - Visits
  /visits/{visit-id}/create-image:
    post:
      operationId: postVisitImage
      summary: Create Image
      description: |
        Handles uploading images for visit interaction for a particular question.
      parameters:
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/Content-Type'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ImageInput'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Image'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error403Forbidden'
      tags:
        - Visits
  /visits/{visit-id}/remove-image:
    delete:
      operationId: deleteVisitImage
      summary: Delete Image
      description: |
        Handles deleting images for visit interaction.
      parameters:
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/imageId'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '204':
          description: No Content
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error404NotFound'
      tags:
        - Visits
  /webhooks/stripe:
    post:
      operationId: postStripeWebhook
      summary: Stripe Webhook
      description: This endpoint handles POST requests from Stripe's webhook events. Webhook events can be added via Stripe's Dashboard.
      requestBody:
        description: The payload sent by Stripe, containing details about the event.
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: string
                  description: The unique identifier for the event.
                  example: evt_1HhZsW2eZvKYlo2CVJXsLs5A
                object:
                  type: string
                  description: The type of object in the event (i.e. request.body.event [`event`]).
                  example: event
                type:
                  type: string
                  description: The type of event from Stripe (i.e. request.body.event.type [`checkout.session.completed`]).
                  example: charge.succeeded
                data:
                  type: object
                  properties:
                    object:
                      type: object
                      description: The main data object in the event, e.g., a session or a payment.
                      properties:
                        id:
                          type: string
                          description: The unique identifier for the object within Stripe.
                          example: cs_test_a1ZxsX2eZ3YxUVJ1rYPmP2M5U
                        amount:
                          type: integer
                          description: The total amount for the session, in cents (or smallest currency unit).
                          example: 5000
                        currency:
                          type: string
                          description: Currency of transaction.
                          example: usd
                        customer:
                          type: string
                          description: The Stripe customer ID related to the event.
                          example: cus_JGgrsxEiwxZ2Vg
                        metadata:
                          type: object
                          description: Any metadata params passed into the origin payment intent.
                          properties:
                            zipAuth:
                              type: string
                              description: Zipnosis auth required for webhook to call Fabric promo_code endpoint.
                              example: eyJhbGciOiJIUzI1NiIsImlzcyI6InppcG5vc2lzIn0.eyJ1c2VyX2lkIjo5MDMzOSwiaWF0IjoxNzI0ODgwMzYwLCJleHAiOjE3MjQ4ODEyNjAsImlzcyI6InppcG5vc2lzIiwiandlX3Rva2VuIjpudWxsfQ.3j3KSCTSYbket8jFZQfcsDulJwWiY88bNRzJxaN6Sn4
                            visitId:
                              type: string
                              description: Visit id attached to this payment.
                              example: 67152283-1c7c-432a-9970-8b2bb8fccc51
                        paid:
                          type: boolean
                          description: Paid success or fail.
                          example: true
                        payment_intent:
                          type: string
                          description: Payment intent ID.
                          example: pi_3QzjCrAGjvV1XAXX1xAa2iFS
                        payment_method:
                          type: string
                          description: Customer payment method ID used for transaction.
                          example: pm_3QzjCrAGjvV1XAXX1xAa2iFS
              example:
                id: evt_1HhZsW2eZvKYlo2CVJXsLs5A
                object: event
                type: checkout.session.completed
                data:
                  object:
                    id: cs_test_a1ZxsX2eZ3YxUVJ1rYPmP2M5U
                    amount: 5000
                    currency: usd
                    customer: cus_JGgrsxEiwxZ2Vg
                    metadata:
                      zipAuth: eyJhbGciOiJIUzI1NiIsImlzcyI6InppcG5vc2lzIn0.eyJ1c2VyX2lkIjo5MDMzOSwiaWF0IjoxNzI0ODgwMzYwLCJleHAiOjE3MjQ4ODEyNjAsImlzcyI6InppcG5vc2lzIiwiandlX3Rva2VuIjpudWxsfQ.3j3KSCTSYbket8jFZQfcsDulJwWiY88bNRzJxaN6Sn4
                      visitId: 67152283-1c7c-432a-9970-8b2bb8fccc51
                    paid: true
                    payment_intent: pi_3QzjCrAGjvV1XAXX1xAa2iFS
                    payment_method: pm_3QzjCrAGjvV1XAXX1xAa2iFS
      responses:
        '200':
          description: Successful receipt of the webhook event.
        '400':
          description: Bad request if the event cannot be processed.
        '500':
          description: Internal server error if there is an issue processing the event.
      tags:
        - Webhooks
  /visits/{visit-id}/send-prescriptions/{pharmacy-id}:
    put:
      operationId: putVisitSendPrescription
      summary: Sends the prescription and discounts to the pharmacy
      description: |
        Sends the prescription (Fabric OR Healthdyne) to the Pharmacy chosen by the patient.  
        Includes coupons/discounts if applicable.
        Returns void.
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/visit-id'
        - $ref: '#/components/parameters/pharmacy-id'
      requestBody:
        description: |
          The discount card information to apply to the prescription.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DiscountCard'
      responses:
        '204':
          description: No Content
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Visits
  /pharmacies/{pharmacy-id}/coupons/{coupon-id}/discount-card:
    get:
      operationId: getPharmacyCouponsDiscountCard
      summary: Get pharmacy coupons discount card for a given pharmacy location
      description: |
        Returns the coupons discount card details for a given pharmacy location
      security:
        - bearerAuth: []
      parameters:
        - $ref: '#/components/parameters/pharmacy-id'
        - $ref: '#/components/parameters/coupon-id'
        - $ref: '#/components/parameters/User-Agent'
        - $ref: '#/components/parameters/Accept-Language'
        - $ref: '#/components/parameters/Ocp-Apim-Subscription-Key'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DiscountCard'
        '401':
          $ref: '#/components/responses/Error401Response'
        '404':
          $ref: '#/components/responses/Error404Response'
      tags:
        - Pharmacy
components:
  schemas:
    Account:
      type: object
      properties:
        email:
          type: string
          format: email
        fullName:
          type: string
        insuranceCarrier:
          type: string
        insuranceGroup:
          type: string
        insuranceGroupId:
          type: string
        insuranceId:
          type: string
        mobilePhone:
          type: string
        phone:
          type: string
        smsNotify:
          type: boolean
        canChangePassword:
          type: boolean
        profileContent:
          description: 'Source: Fabric content.patient_profile'
          type: object
          properties:
            allergiesLink:
              type: string
            documentTitle:
              type: string
            medicationsLink:
              type: string
            patientDashboardLink:
              type: string
            patientDetailsLink:
              type: string
            visitHistoryLink:
              type: string
        accountContent:
          description: 'Source: Fabric content.client_content'
          type: object
          properties:
            profilePersonalInformation:
              type: string
            accountInsuranceInformation:
              type: string
        address:
          $ref: '#/components/schemas/AccountAddress'
      example:
        email: bob@aol.com
        fullName: Bob Frog
        insuranceCarrier: Blue Cross
        insuranceGroup: BC-Plus
        insuranceGroupId: 45-768393F
        insuranceId: 123485690F
        mobilePhone: 555.555.5555
        phone: 123.456.5555
        smsNotify: true
        canChangePassword: true
        profileContent:
          allergiesLink: Allergies
          documentTitle: Patient Profile
          medicationsLink: Medications
          patientDashboardLink: Patient Dashboard
          patientDetailsLink: Patient Details
          visitHistoryLink: Visit History
        accountContent:
          profilePersonalInformation: Personal information
          accountInsuranceInformation: Insurance information
        address:
          id: 2910336
          address1: 1049 Moore Grove
          address2: null
          city: Minneapolis
          country: null
          phone: (202)345-6789
          state: MN
          zip: '55401'
          fullAddress: 1049 Moore Grove,  Minneapolis, MN 55401
          latitude: 44.9836543
          longitude: -93.2693572
    Adb2cToken:
      description: |
        The token is used to authenticate the user for the duration of the tokenExpires time.
        The token is used in the header for all requests that require authentication.
      type: object
      properties:
        token:
          type: string
          format: byte
      example:
        token: ZTU0YTNkOTYtNTE1Ni00YTE0LWFiZDQtYzI2ZjdlYmVmYmQ5
    Adb2cClaimsUpdate:
      description: |
        The is used to update the user profile.
      type: object
      properties:
        hsid:
          type: string
        email:
          type: string
          format: email
        phone:
          type: string
        firstName:
          type: string
        lastName:
          type: string
      required:
        - hsid
      example:
        hsid: 1234-5678-9012
        email: bob@aaol.com
        phone: 555-555-5555
        firstName: Bob
        lastName: Frog
    Address:
      type: object
      properties:
        addressLine1:
          type: string
        addressLine2:
          type: string
        city:
          type: string
        state:
          type: string
        zipCode:
          type: string
        country:
          type: string
        phoneNumber:
          type: string
      required:
        - addressLine1
        - city
        - state
        - zipCode
        - phoneNumber
      example:
        addressLine1: TEST MAIN
        addressLine2: Suite 102
        city: MINNEAPOLIS
        country: USA
        state: MN
        zipCode: '55401'
        phoneNumber: 256-555-5555
    BusinessHours:
      type: object
      properties:
        open:
          type: object
          properties:
            day:
              type: string
            time:
              type: string
              format: date-time
        close:
          type: object
          properties:
            day:
              type: string
            time:
              type: string
              format: date-time
      example:
        open:
          day: Monday
          time: '8:00'
        close:
          day: Monday
          time: '18:00'
    Condition:
      type: object
      properties:
        conditionDetails:
          $ref: '#/components/schemas/ConditionDetails'
        fulfillmentOptions:
          $ref: '#/components/schemas/FulfillmentOptions'
        treatmentOptions:
          $ref: '#/components/schemas/TreatmentOptions'
      example:
        conditionDetails:
          heading: Restore your hair and your confidence. Get prescribed online in minutes.
          description: |
            Fill out a questionnaire online. If you’re approved by one of Optum’s experienced providers, 
            you’ll have your online prescription in less than 15 minutes.
          icon:
            imageUrl: https://example.com/image.png
            darkModeImageUrl: https://example.com/dark-mode-image.png
            altText: An example icon
          ctaButton: Questionnaire for hair loss
          label: cp_9q_449a_acne
          urlSlug: allergies
          name: Allergic Rhinitis
          commonName: Allergies
        fulfillmentOptions:
          homeDelivery:
            drugNames:
              - Minoxidil
              - Finasteride
            priceRange:
              label: Total cost
              minPrice:
                amount: '10.50'
                currency: USD
                display: $10.50
              maxPrice:
                amount: '20.50'
                currency: USD
                display: $20.50
          retail:
            drugNames:
              - Minoxidil
              - Finasteride
            priceRange:
              label: Total cost
              minPrice:
                amount: '8.50'
                currency: USD
                display: $8.50
              maxPrice:
                amount: '19.50'
                currency: USD
                display: $19.50
        treatmentOptions:
          - perksId: e82bfafb-eca1-4711-9156-b0f9fc8b54a7
            commonName: Minoxidil
            urlSlug: minoxidil
            formulationId: 84b18721-2493-4a31-a5ad-4d81dc1647e4
            price:
              amount: '8.50'
              currency: USD
              display: $8.50
            quantity: 30
            drugType: BRAND
            description: This medicine is an HMG-CoA reductase inhibitor (also known as a statin) used in combination with...
    ConditionDetails:
      type: object
      properties:
        heading:
          type: string
          description: |
            Source: fabricCondition.content.page_heading string
          example: Get fast, convenient care for acne. No appointment needed.
        description:
          description: |
            Source: fabricCondition.content.wysk_body & treatment_plan_expectation_text string
          type: string
          example: Acne is a common skin condition that occurs when hair follicles become clogged with oil and dead skin cells. This can result in various types of blemishes, including pimples, blackheads, whiteheads, and in some cases, deeper cysts or nodules. Acne typically affects areas with a high concentration of oil glands, such as the face, chest, and back.
        icon:
          description: |
            Source: perksCondition.heroIcon 
            OR fabricCondition.content.primary_image_path If Perks is unavalible
          $ref: '#/components/schemas/ImageUrl'
        ctaButton:
          description: |
            Source: fabricCondition.content.start_today_heading
          type: string
          example: Questionnaire for hair loss
        label:
          description: |
            Primary Key
            Source: fabricCondition.label
            This label is the primary key for Fabric's Clinical Conditions.
          type: string
          example: cp_9q_449a_acne
        urlSlug:
          type: string
          pattern: ^[a-z0-9-]+$
          description: |
            Source: perksCondition.urlSlug 
            OR convert fabricCondition.name into slug       
            A stable identifier for this health condition. 
            URL slugs must be URL-safe: 
            lower case letters (a-z), numbers (0-9), and dashes (-) only.
          example: allergies
        name:
          description: |
            Source: fabricCondition.name
            The clinical name for this condition.
          type: string
          example: Allergic Rhinitis
        alternateName:
          description: |
            Source: perksCondition.name  
            The alternate clinical name for this condition.
          type: string
          example: Allergic Rhinitis
        commonName:
          description: |
            Source: perksCondition.commonName OR fabricCondition.name
            Name the condition is commonly known as.  If Perks is not available 
            Fabric name will be used.
          type: string
          example: Allergies
      required:
        - heading
        - description
        - label
        - name
      example:
        heading: Restore your hair and your confidence. Get prescribed online in minutes.
        description: |
          Fill out a questionnaire online. If you’re approved by one of Optum’s experienced providers, 
          you’ll have your online prescription in less than 15 minutes.
        icon:
          imageUrl: https://example.com/image.png
          darkModeImageUrl: https://example.com/dark-mode-image.png
          altText: An example icon
        ctaButton: Questionnaire for hair loss
        label: cp_9q_449a_acne
        urlSlug: allergies
        name: Allergic Rhinitis
        commonName: Allergies
    ConditionListByCategory:
      type: array
      items:
        type: object
        properties:
          name:
            type: string
            description: Category Name
            example: Cold, flu, COVID-19
          fabricId:
            type: number
            description: Fabric Id for category
            example: 40
          conditions:
            type: array
            items:
              $ref: '#/components/schemas/ConditionSummary'
      example:
        - name: Cold, flu, COVID-19
          fabricId: 40
          conditions:
            - label: cp_12q_449a_covid19coronavirus
              name: COVID-19
              primaryDescription: Evaluation of COVID-19 (coronavirus)
              primaryImagePath: /PatientInterface/Conditions/covid-a.webp
            - label: cp_12q_449a_respiratory
              name: Cold, sinus infection, or flu
              primaryDescription: Stuffy or runny nose, cough, sore throat, headache, fever, or muscle aches
              primaryImagePath: /PatientInterface/Conditions/uri-a.webp
              urlSlug: cold
            - label: cp_184q_449a_reason
              name: COVID-19 treatments
              primaryDescription: Evaluation for COVID-19 treatment for those with a confirmed diagnosis of COVID-19
              primaryImagePath: /PatientInterface/Conditions/paxlovid-a.webp
              urlSlug: covid-19
            - label: cp_41q_449a_reason
              name: Flu exposure
              primaryDescription: Medication to prevent the flu after a close contact exposure (not for active symptoms)
              primaryImagePath: /PatientInterface/Conditions/fluexposure-a.webp
              urlSlug: flu
            - label: cp_171q_449a_reason
              name: Post-COVID discharge (video required)
              primaryDescription: COVID-19 (coronavirus) follow-up after being discharged from the hospital or clinic
              primaryImagePath: /PatientInterface/Conditions/postcoviddischarge-a.webp
              urlSlug: post-covid
            - label: cp_42q_449a_reason
              name: Whooping cough exposure
              primaryDescription: Medication to prevent whooping cough after close contact with a person with the illness
              primaryImagePath: /PatientInterface/Conditions/whoopingcough-a.webp
              urlSlug: whooping-cough
    ConditionSummary:
      type: object
      properties:
        label:
          type: string
          example: cp_9q_449a_acne
        name:
          type: string
          description: The clinical name for this condition.
          example: Allergic Rhinitis
        primaryDescription:
          type: string
          example: Cold, sinus infection, or sore throat
        primaryImagePath:
          type: string
          example: /PatientInterface/Conditions/acne-a.webp
        urlSlug:
          type: string
          description: |
            A stable identifier for this health condition. URL slugs must be URL-safe: lower case letters (a-z), numbers (0-9), and dashes (-) only.
          example: allergies
      example:
        label: cp_12q_449a_covid19coronavirus
        name: COVID-19
        primaryDescription: Evaluation of COVID-19 (coronavirus)
        primaryImagePath: /PatientInterface/Conditions/covid-a.webp
    Drug:
      type: object
      properties:
        perksId:
          type: string
          format: uuid
          example: 84b18721-2493-4a31-a5ad-4d81dc1647e4
        name:
          type: string
          example: Minoxidil
        drugType:
          $ref: '#/components/schemas/DrugType'
        urlSlug:
          type: string
          example: atorvastatin
        variants:
          type: array
          items:
            type: object
            properties:
              perksId:
                type: string
                format: uuid
                example: 84b18721-2493-4a31-a5ad-4d81dc1647e4
              urlSlug:
                type: string
                example: atorvastatin
              name:
                type: string
                example: Lipitor
              drugType:
                $ref: '#/components/schemas/DrugType'
        formulationId:
          type: string
          format: uuid
          example: 84b18721-2493-4a31-a5ad-4d81dc1647e4
        price:
          $ref: '#/components/schemas/Price'
        quantity:
          type: number
          format: double
          example: 30
          description: The quantity that was used to calculate the price for this formulation.
        protocol:
          type: string
          example: General skin conditions
        ndc:
          type: string
          example: '12345678900'
        drugDescription:
          type: string
          example: Lorem ispum dilor sit amet.
        daysSupply:
          type: integer
          example: 30
        refillCount:
          type: integer
          example: 3
        drugForm:
          type: string
          example: foam
        strength:
          type: string
          examples:
            - '15'
            - 0.3-2.5
        strengthQualifier:
          type: string
          example: '%'
        sig:
          type: string
          example: Apply to the affected skin 2 times per day
        cpid:
          type: integer
          example: 49
        unitPrice:
          type: number
          example: 27.95
      example:
        perksId: 84b18721-2493-4a31-a5ad-4d81dc1647e4
        name: Minoxidil
        drugType: brand
        urlSlug: atorvastatin
        variants:
          - perksId: 84b18721-2493-4a31-a5ad-4d81dc1647e4
            urlSlug: atorvastatin
            name: Lipitor
            drugType: brand
        formulationId: 84b18721-2493-4a31-a5ad-4d81dc1647e4
        price:
          amount: '10.50'
          currency: USD
          display: $10.50
        quantity: 50
        ndc: '40085031530'
        protocol: Acne and rosacea
        drugDescription: erythromycin with ethanol (Erygel) 2 % topical gel
        daysSupply: 30
        refillCount: 3
        drugForm: gel
        strength: '2'
        strengthQualifier: '%'
        sig: Apply to the affected skin 2 times per day
        cpid: 9
        unitPrice: 74.86
    DrugVariantInfo:
      type: object
      description: |
        Drub & Variants info. Source Perks XAPI drugs/{id}/prices
      properties:
        ndc:
          type: string
        formulationId:
          type: string
        name:
          type: string
        variants:
          type: array
          items:
            type: object
            properties:
              ndc:
                type: string
              formulationId:
                type: string
              name:
                type: string
      required:
        - ndc
        - formulationId
        - name
      example:
        ndc: '31722092601'
        formulationId: '72162199205'
        name: Methylphenidate
        variants:
          - ndc: '71376020103'
            formulationId: '72162199205'
            name: Jornay Pm
    DrugListCsv:
      type: object
      properties:
        rows:
          type: array
          items:
            type: object
            properties:
              protocol:
                type: string
                example: '123'
              ndc:
                type: string
                example: '12345678900'
              drug_description:
                type: string
                example: '123'
              quantity:
                type: string
                example: '123'
              days_supply:
                type: string
                example: '123'
              refill_count:
                type: string
                example: '123'
              drug_form:
                type: string
                example: '123'
              strength:
                type: string
                example: '123'
              strength_qualifier:
                type: string
                example: '123'
              sig:
                type: string
                example: '123'
              cpid:
                type: string
                example: '123'
              unit_price:
                type: string
                example: '123'
            required:
              - protocol
              - ndc
              - drug_description
              - quantity
              - days_supply
              - refill_count
              - drug_form
              - strength
              - strength_qualifier
              - sig
              - cpid
              - unit_price
      example:
        rows:
          - protocol: Acne and rosacea
            ndc: '66993095931'
            drug_description: clindamycin-tretinoin (Ziana) 1.2-0.025 % topical gel
            quantity: '1'
            days_supply: '30'
            refill_count: '3'
            drug_form: gel
            strength: 1.2-0.025
            strength_qualifier: '%'
            sig: Apply to the affected skin 1 time per day at bedtime
            cpid: '9'
            unit_price: '88.4'
    DrugPricingInfo:
      description: |
        Price info for a single drug formulation (strength, method of delivery, etc..)
        Depending on the context, Source could be Fabric treatment_plan.prescriptions, 
        Perks XAPI drugs/{id}/prices, or Internal price list for Healthdyne.
      type: object
      properties:
        ndc:
          type: string
        formulationId:
          type: string
        name:
          type: string
        couponId:
          type: string
          format: uuid
        price:
          $ref: '#/components/schemas/Price'
      required:
        - ndc
        - formulationId
        - name
        - price
      example:
        ndc: '31722092601'
        formulationId: '72162199205'
        name: Methylphenidate
        couponId: '005947'
        price:
          amount: '10.50'
          currency: USD
          display: $10.50
    DrugType:
      type: string
      enum:
        - brand
        - generic
      example: generic
      description: |
        Backwards Compatibility Note:** If an unrecognized `drugType` is received by the client, `brand` should be assumed.
    FabricToken:
      type: object
      properties:
        token:
          type: string
      example:
        token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
    FulfillmentOptions:
      type: object
      properties:
        homeDelivery:
          type: object
          properties:
            drugNames:
              description: 'Source: Mapping Fabric/Perks NDC to DB(Healthdyne)'
              type: array
              items:
                type: string
            priceRange:
              description: 'Source: Mapping Fabric/Perks NDC to DB(Healthdyne)'
              $ref: '#/components/schemas/PriceRange'
        retail:
          type: object
          properties:
            drugNames:
              description: 'Source: Perks (filtered by what is available in Fabric Treatment Options)'
              type: array
              items:
                type: string
            priceRange:
              description: 'Source: Perks: healthConditions.drugs.price'
              $ref: '#/components/schemas/PriceRange'
      example:
        homeDelivery:
          drugNames:
            - Minoxidil
            - Finasteride
          priceRange:
            label: Total cost
            minPrice:
              amount: '10.50'
              currency: USD
              display: $10.50
            maxPrice:
              amount: '20.50'
              currency: USD
              display: $20.50
        retail:
          drugNames:
            - Minoxidil
            - Finasteride
          priceRange:
            label: Total cost
            minPrice:
              amount: '8.50'
              currency: USD
              display: $8.50
            maxPrice:
              amount: '19.50'
              currency: USD
              display: $19.50
    GuestVisitInput:
      type: object
      required:
        - guestVisit
      properties:
        guestVisit:
          type: object
          required:
            - addressState
            - patientGender
            - patientAge
          properties:
            addressState:
              type: string
            patientBirthDate:
              type:
                - 'null'
                - string
              format: date
            patientGender:
              type: string
            preparerBirthDate:
              type:
                - 'null'
                - string
              format: date
            dependentVisit:
              type: boolean
            patientAge:
              type: number
            preparerAge:
              type: number
              description: The age of the preparer. This is required when dependentVisit is true
        conditionLabel:
          type: string
          description: |
            This allows the visit's condition, also known as reason for visit, to be preset at the start of the visit. If this parameter is omitted, the reason_for_visit will be left unset, and the guest visit will later prompt for a reason for visit.
      example:
        guestVisit:
          addressState: MN
          patientBirthDate: '1987-04-03'
          patientGender: male
          preparerBirthDate: 'null'
          dependentVisit: false
          patientAge: 34
        conditionLabel: cp_9q_449a_acne
    HealthCheck:
      type: object
      properties:
        server:
          type: string
          enum:
            - healthy
            - unhealthy
        redis:
          type: string
          enum:
            - wait
            - reconnecting
            - connecting
            - connect
            - ready
            - close
            - end
        db:
          type: string
          enum:
            - connected
            - error
      required:
        - server
        - redis
        - db
      examples:
        - server: healthy
          redis: ready
          db: connected
        - server: unhealthy
          redis: ready
          db: error
        - server: unhealthy
          redis: wait
          db: connected
        - server: unhealthy
          redis: reconnecting
          db: connected
        - server: unhealthy
          redis: connecting
          db: connected
        - server: unhealthy
          redis: connect
          db: connected
        - server: unhealthy
          redis: close
          db: connected
        - server: unhealthy
          redis: end
          db: connected
    Image:
      type: object
      properties:
        id:
          type: number
        fileName:
          type: string
        questionIdentifier:
          type: string
      example:
        id: 17180
        fileName: skin-rash-left-hand.jpg
        questionIdentifier: q779
    ImageInput:
      type: object
      properties:
        questionZid:
          type: string
        file:
          type: string
          format: binary
      example:
        questionZid: q779
        file: (binary)
    ImageUrl:
      type: object
      properties:
        imageUrl:
          type: string
          example: https://example.com/image.png
        darkModeImageUrl:
          type: string
          example: https://example.com/dark-mode-image.png
        altText:
          type: string
          example: An example image
      example:
        imageUrl: https://example.com/image.png
        darkModeImageUrl: https://example.com/dark-mode-image.png
        altText: An example icon
    Interaction:
      type: object
      properties:
        stateName:
          type: string
        title:
          type: string
        progressBar:
          $ref: '#/components/schemas/ProgressBar'
        content:
          type: array
          items:
            type: object
            properties:
              contentType:
                type: string
              contentName:
                type: string
              contentLabel:
                type: string
              lookupApiUrl:
                type: string
              maxCount:
                type: number
              maxLength:
                type: number
              minCount:
                type: number
              options:
                type: array
                items:
                  type: object
                  properties:
                    optionLabel:
                      type: string
                    optionValue:
                      type: string
                    meta:
                      type: object
                      properties:
                        restrictions:
                          type: array
                          items:
                            type: string
                        eligibilitySettings:
                          type: object
                          properties:
                            patientGender:
                              type:
                                - 'null'
                                - string
                            patientMaxAge:
                              type:
                                - 'null'
                                - number
                            patientMinAge:
                              type:
                                - 'null'
                                - number
                            establishedPatientsOnly:
                              type:
                                - 'null'
                                - boolean
              postUrl:
                type: string
              required:
                type: boolean
        errorDescriptions:
          type: object
          description: |
            #### Front end error descriptions

            - **errorCode**: Front end can use this to map to specific error.
            - **errorDescription**: Description of the error defined by CMS / Product team.
          additionalProperties:
            type: string
        progress:
          type: object
          additionalProperties:
            type: object
            properties:
              percentage:
                type: number
        actions:
          $ref: '#/components/schemas/Action'
      example:
        stateName: clinical_interview
        title: Interview Question
        content:
          - contentType: select_input
            contentName: q775
            contentLabel: <p>Almost done! Photos of the affected area of the skin are required to diagnose and treat you.</p><p><b>Can photos be taken and uploaded at this time?</b></p>
            options:
              - optionLabel: 'Yes'
                optionValue: 'yes'
              - optionLabel: 'No'
                optionValue: 'no'
            required: true
        progress:
          clinical_interview:
            percentage: 28.4
        actions:
          continue:
            actionLabel: Continue
          goBack:
            actionLabel: Back
    InteractionInput:
      type: object
      properties:
        actionName:
          type: string
        responses:
          type: object
          additionalProperties:
            type: string
      example:
        actionName: continue
        responses:
          q857: ihaveneverbeenprescribedtreatmentforthiscondition
          q858: 'yes'
    NameSearchResponse:
      type: array
      items:
        type: object
        properties:
          id:
            type: number
          name:
            type: string
      examples:
        - - id: 2009551
            name: Cystex (methenamine-benz acid)
          - id: 2253445
            name: Cystex Plus (methenamine-sal)
    PatientDetails:
      type: object
      properties:
        firstName:
          description: |
            Patient's first name
          type: string
        lastName:
          description: |
            Patient's last name
          type: string
        email:
          description: |
            Patient's email address
          type: string
      example:
        firstName: John
        lastName: Doe
        email: john.doe@example.com
    Notification:
      description: |
        Get the user's current notifications
      type: object
      properties:
        notifications:
          type: array
          items:
            $ref: '#/components/schemas/NotificationDetail'
      example:
        notifications:
          - id: 123
            title: You have a provider response available
            message: Thank you for using Optum Perks Online Care! Your provider has reviewed your symptoms and created a treatment plan.
            messageType: null
            category: treatment_plan
            force: true
            viewedAt: '2025-01-03T22:06:29Z'
            createdAt: '2025-01-03T22:06:29Z'
            updatedAt: '2025-01-03T22:06:29Z'
            notificationLinks:
              - id: 123
                href: /visits/195020/report
                label: View Treatment Plan
    NotificationLink:
      description: |
        Contains a url (href) to the visit the notification belongs to.
      type: object
      properties:
        id:
          type: integer
        href:
          type: string
        label:
          type: string
      example:
        id: 123
        href: /visits/195020/report
        label: View Treatment Plan
    PatientVisitHistory:
      description: |
        Patient Visit History using to list Visit History
      type: object
      properties:
        visits:
          type: array
          items:
            $ref: '#/components/schemas/PatientVisitSummary'
        currentCount:
          type: number
        currentPage:
          type: number
        totalCount:
          type: number
        totalPages:
          type: number
      example:
        visits:
          - id: 123
            createdAt: '2024-05-20T19:08:56.000Z'
            finishedAt: '2024-06-20T19:08:56.000Z'
            reasonForVisit: acne
            state: prescriptions_expired
            headerText: Action required
            readableState: Complete your visit
            subState: active
            pending: true
            prescriptions:
              - triamcinolone acetonide (Oralone) 0.1 % dental paste
              - valacyclovir (Valtrex) 1 gram oral tablet
              - Mupirocin calcium 2 % topical cream
        currentCount: 1
        currentPage: 1
        totalCount: 1
        totalPages: 1
    PatientVisitSummary:
      description: |
        Patient Visit Summary using to list Visit History
      type: object
      properties:
        id:
          type: number
        createdAt:
          type: string
          format: date-time
        finishedAt:
          type: string
          format: date-time
        reasonForVisit:
          type: string
        state:
          type: string
        headerText:
          type: string
        readableState:
          type: string
        subState:
          type: string
        pending:
          type: boolean
        prescriptions:
          type: array
          items:
            type: string
      example:
        id: 123
        createdAt: '2024-05-20T19:08:56.000Z'
        finishedAt: '2024-06-20T19:08:56.000Z'
        reasonForVisit: acne
        state: prescriptions_expired
        headerText: Action required
        readableState: Complete your visit
        subState: active
        pending: true
        prescriptions:
          - triamcinolone acetonide (Oralone) 0.1 % dental paste
          - valacyclovir (Valtrex) 1 gram oral tablet
          - Mupirocin calcium 2 % topical cream
    PatientAllergies:
      $ref: '#/components/schemas/Allergy'
    PatientMedications:
      $ref: '#/components/schemas/Medication'
    PaymentIntent:
      description: |
        See https://docs.stripe.com/api/payment_intents/create
      type: object
      required:
        - piClientSecret
      properties:
        id:
          type: string
          description: |
            Maps to PaymentIntent.id in Stripe. 
            Optional to allow retrieving payment methods.
        customerId:
          type: string
          description: |
            Maps to PaymentIntent.customer in Stripe.  (Also Customer.id)
            Optional to allow saving and retrieving payment methods.
        piClientSecret:
          type: string
          description: |
            Maps to PaymentIntent.client_secret in Stripe.
        csClientSecret:
          type: string
          description: |
            Maps to CustomerSession.client_secret in Stripe.
      examples:
        - piClientSecret: pi_3MtwBwLkdIwHu7ix28a3tqPa_secret_YrKJUKribcBjcG8HVhfZluoGH
        - piClientSecret: pi_3MtwBwLkdIwHu7ix28a3tqPa_secret_YrKJUKribcBjcG8HVhfZluoGH
          csClientSecret: _POpxYpmkXdtttYtZQYhrsOJZ2RCQ9kCqqXRU6qrP5c4Jgje
        - piClientSecret: pi_3MtwBwLkdIwHu7ix28a3tqPa_secret_YrKJUKribcBjcG8HVhfZluoGH
          csClientSecret: _POpxYpmkXdtttYtZQYhrsOJZ2RCQ9kCqqXRU6qrP5c4Jgje
          customerId: cus_NffrFeUfNV2Hib
        - piClientSecret: pi_3MtwBwLkdIwHu7ix28a3tqPa_secret_YrKJUKribcBjcG8HVhfZluoGH
          csClientSecret: _POpxYpmkXdtttYtZQYhrsOJZ2RCQ9kCqqXRU6qrP5c4Jgje
          customerId: cus_NffrFeUfNV2Hib
          id: pi_3MtwBwLkdIwHu7ix28a3tqPa
    PaymentIntentInput:
      description: |
        See https://docs.stripe.com/api/payment_intents/create
      type: object
      properties:
        amount:
          type: number
          description: |
            Maps to PaymentIntent.amount in Stripe
        customerId:
          type: string
          description: |
            Maps to PaymentIntent.customer in Stripe.  (Also Customer.id)
            Optional to allow saving and retrieving payment methods.
        currency:
          type: string
          enum:
            - usd
          description: |
            Maps to PaymentIntent.currency in Stripe.
            Defaults to 'usd'.
      required:
        - amount
      example:
        amount: 1099
        customerId: cus_NffrFeUfNV2Hib
        currency: usd
    PaymentIntentDetail:
      description: |
        See https://docs.stripe.com/api/payment_intents/list
      type: object
      properties:
        paymentIntentId:
          type: string
          description: |
            Maps to PaymentIntents.data[].id in Stripe.
        amount:
          type: number
          description: |
            Maps to PaymentIntents.data[].amount in Stripe.
        amountReceived:
          type: number
          description: |
            Maps to PaymentIntents.data[].amount_received in Stripe.
        created:
          type: string
          format: date-time
          description: |
            Maps to PaymentIntents.data[].created in Stripe.
        piClientSecret:
          type: string
          description: |
            Maps to PaymentIntent.client_secret in Stripe.
        invoiceId:
          type: string
          description: |
            Maps to PaymentIntents.data[].invoice in Stripe.
        status:
          type: string
          description: |
            Maps to PaymentIntents.data[].status in Stripe.
        lastPaymentError:
          type:
            - 'null'
            - object
          description: |
            Maps to PaymentIntents.data[].last_payment_error in Stripe.
      example:
        paymentIntentId: pi_3MtwBwLkdIwHu7ix28a3tqPa
        amount: 2000
        amountReceived: 1500
        created: '2018-11-13T20:20:39+00:00'
        piClientSecret: pi_3MtwBwLkdIwHu7ix28a3tqPa_secret_YrKJUKribcBjcG8HVhfZluoGH
        invoiceId: in_1MtHbELkdIwHu7ixl4OzzPMv
        status: succeeded
        lastPaymentError: null
    PaymentIntents:
      description: |
        See https://docs.stripe.com/api/payment_intents/list
      type: object
      properties:
        transactions:
          type: array
          items:
            $ref: '#/components/schemas/PaymentIntentDetail'
      example:
        transactions:
          - paymentIntentId: pi_3MtwBwLkdIwHu7ix28a3tqPa
            amount: 2000
            amountReceived: 1500
            created: '2018-11-13T20:20:39+00:00'
            piClientSecret: pi_3MtwBwLkdIwHu7ix28a3tqPa_secret_YrKJUKribcBjcG8HVhfZluoGH
            invoiceId: in_1MtHbELkdIwHu7ixl4OzzPMv
          - paymentIntentId: pi_3MtwBwLkdIwHu7ix28a3tqPb
            amount: 75
            amountReceived: 0
            created: '2024-11-13T20:20:39+00:00'
            piClientSecret: pi_3MtwBwLkdIwHu7ix28a3tqPa_secret_YrKJUKribcBjcG8HVhfZluoGI
            invoiceId: in_1MtHbELkdIwHu7ixl4OzzPMw
    PaymentMethod:
      description: |
        See https://docs.stripe.com/api/payment_methods/object
      type: object
      required:
        - name
        - lastFour
        - fingerprint
        - expireMonth
        - expireYear
      properties:
        name:
          type: string
          description: |
            User assigned name to help identify the card. Defaults to "type" + "lastFour"
        lastFour:
          type: string
          pattern: ^[0-9]{4}$
          description: |
            Maps to PaymentMethod.last_four in Stripe.
        fingerprint:
          type: string
          description: |
            Maps to PaymentMethod.fingerprint in Stripe. Used as hash.
        expireMonth:
          type: number
          description: |
            Maps to CustomerSession.exp_month in Stripe.
        expireYear:
          type: number
          description: |
            Maps to CustomerSession.exp_yea in Stripe.
      example:
        name: visa 5555
        lastFour: '5555'
        fingerprint: Xt5EWLLDS7FJjR1c
        expireMonth: 8
        expireYear: 2025
    MailOrderRequests:
      $ref: '#/components/schemas/PatientMailOrderRequest'
    Pharmacy:
      type: object
      properties:
        isDelivery:
          description: |
            Indicates that the pharmacy perform mail orders or not.
          type: boolean
        isPickup:
          description: |
            Implicit from whether the pharmacy comes from Perks XAPI or Healthdyne.
          type: boolean
        isPricingLowest:
          description: |
            True if and only if the pharmacy has the lowest price available.
          type: boolean
        perksId:
          description: |
            Source Perks XAPI prices.data[].retailer.id or internal id for Healthdyne.
          type: string
        name:
          description: |
            Source Perks XAPI prices.data[].retailer.name or internal DB of Healthdyne drug prices.
          type: string
        location:
          description: |
            Source Perks XAPI prices.data[].retailer.location healthdyne will not have a location.
          $ref: '#/components/schemas/Address'
        businessHours:
          type: array
          items:
            $ref: '#/components/schemas/BusinessHours'
        availableDrugs:
          description: |
            Source Perks XAPI prices.data[].retailer.drug{.variant} or internal id for Healthdyne.
          type: array
          items:
            $ref: '#/components/schemas/DrugPricingInfo'
        totalPrice:
          description: |
            Source Summation of Perks XAPI prices.data[].retailer.price or internal DB of Healthdyne drug prices.
          $ref: '#/components/schemas/Price'
      example:
        isDelivery: true
        isPickup: true
        isPricingLowest: true
        perksId: '00605'
        name: Apci Choice (Hma 605)
        location:
          addressLine1: TEST MAIN
          addressLine2: Suite 102
          city: MINNEAPOLIS
          country: USA
          state: MN
          zipCode: '55401'
          phoneNumber: 256-555-5555
        businessHours:
          - open:
              day: Monday
              time: '8:00'
            close:
              day: Monday
              time: '18:00'
        availableDrugs:
          - ndc: '31722092601'
            formulationId: '72162199205'
            name: Methylphenidate
            couponId: '005947'
            price:
              amount: '10.50'
              currency: USD
              display: $10.50
        totalPrice:
          amount: '10.50'
          currency: USD
          display: $10.50
    PharmacyList:
      description: |
        Composite DTO for pharmacies endpoint.  Limited to 100 results.
      type: object
      properties:
        searchParameters:
          $ref: '#/components/schemas/PharmacyListSearchParameters'
        prescribedDrugs:
          description: |
            Source Fabric.visit.report.prescriptions, includes info from Perks API /prices
            This is a list of drugs and variants to allow the user to make a selection
          type: array
          items:
            $ref: '#/components/schemas/DrugVariantInfo'
        pharmacies:
          type: array
          items:
            $ref: '#/components/schemas/Pharmacy'
      example:
        searchParameters:
          deliveryType: MailOrder
          ndc: 0169-4307-30
          patientId: '187'
          pharmacyName: CSV
          zipCode: '12345'
        prescribedDrugs:
          - ndc: '31722092601'
            formulationId: '72162199205'
            name: Methylphenidate
            variants:
              - ndc: '71376020103'
                formulationId: '72162199205'
                name: Jornay Pm
        pharmacies:
          - isPickup: true
            isPricingLowest: true
            isDelivery: true
            perksId: '00605'
            name: Apci Choice (Hma 605)
            location:
              addressLine1: TEST MAIN
              addressLine2: Suite 102
              city: MINNEAPOLIS
              country: USA
              state: MN
              zipCode: '55401'
              phoneNumber: 256-555-5555
            businessHours:
              - open:
                  day: Monday
                  time: '8:00'
                close:
                  day: Monday
                  time: '18:00'
            availableDrugs:
              - ndc: '31722092601'
                formulationId: '72162199205'
                name: Methylphenidate
                couponId: '005947'
                price:
                  amount: '10.50'
                  currency: USD
                  display: $10.50
            totalPrice:
              amount: '10.50'
              currency: USD
              display: $10.50
    PharmacyListSearchParameters:
      type: object
      description: |
        Source: the get http call query parameters that resulted in the pharmacy list response.
      properties:
        deliveryType:
          description: |
            Type of delivery service (e.g., retail or mail order). Defaults to mail order. (Optional)
          type: string
          enum:
            - Retail
            - MailOrder
        ndc:
          type: string
        patientId:
          description: |
            Source Fabric patient.id
          type: string
        pharmacyName:
          description: |
            Source query parameter (optional)
          type: string
        zipCode:
          description: |
            Source Fabric patient.address OR query parameter
          type: string
        radiusMiles:
          description: |
            Source query parameter (optional)
          type: integer
      example:
        deliveryType: MailOrder
        ndc: '0169430730'
        patientId: '187'
        pharmacyName: CSV
        zipCode: '12345'
        radiusMiles: 10
    PharmacySelection:
      type: object
      properties:
        pharmacyControlNumber:
          description: |
            Maps to Fabric discount_card_pcn, only for retail
          type: string
        couponId:
          description: |
            Maps to Fabric discount_card_bin, only for retail
          type: string
        cardholderId:
          description: |
            Maps to Fabric discount_card_cardholder_id, only for retail
          type: string
        groupId:
          description: |
            Maps to Fabric discount_card_group_id, only for retail
          type: string
      example:
        pharmacyControlNumber: CLAIMCR
        couponId: '005947'
        cardholderId: APD1066745
        groupId: 1858CCC
    Prescription:
      type: object
      properties:
        drugName:
          type: string
        ndcCode:
          type: string
        quantity:
          type: integer
        strength:
          type: string
        refills:
          type: number
        drugForm:
          type: string
        daysSupply:
          type: integer
        description:
          type: string
      example:
        drugName: Amoxicillin
        ndcCode: 50090-0301
        quantity: 30
        strength: 500mg
        refills: 3
        drugForm: Tablet
        daysSupply: 10
        description: Take one tablet by mouth every 8 hours for 10 days.
    Price:
      type: object
      properties:
        amount:
          type: string
          example: '10.50'
          description: The decimal value of the price encoded as a string. String representation prevents encoding errors since JSON doesn't allow numeric precision to be specified. Clients should parse this value as a string and convert to decimal.
        currency:
          type: string
          description: The ISO 4217 currency code for this price.
          example: USD
        display:
          type: string
          example: $10.50
      example:
        amount: '10.50'
        currency: USD
        display: $10.50
    PriceRange:
      type: object
      properties:
        label:
          type: string
        minPrice:
          $ref: '#/components/schemas/Price'
        maxPrice:
          $ref: '#/components/schemas/Price'
      example:
        label: Total Price
        minPrice:
          amount: '10.50'
          currency: USD
          display: $10.50
        maxPrice:
          amount: '20.50'
          currency: USD
          display: $20.50
    ProgressBar:
      type: object
      properties:
        personalInformation:
          $ref: '#/components/schemas/ProgressBarItem'
        eligibility:
          $ref: '#/components/schemas/ProgressBarItem'
        interview:
          $ref: '#/components/schemas/ProgressBarItem'
        accountSetup:
          $ref: '#/components/schemas/ProgressBarItem'
        payment:
          $ref: '#/components/schemas/ProgressBarItem'
        doctorReview:
          $ref: '#/components/schemas/ProgressBarItem'
      example:
        personalInformation:
          index: 2
          name: Visit Purpose
        eligibility:
          index: 1
          name: Eligibility
        interview:
          index: 3
          name: Health History
        accountSetup:
          index: 4
          name: Account Setup
        payment:
          index: 5
          name: Payment
        doctorReview:
          index: 6
          name: Provider Review
    SessionData:
      type: object
      properties:
        clinicSerial:
          type: array
          items:
            type: string
        cosmosId:
          type: string
        fabricId:
          type: number
        fabricGVID:
          type: string
        fabricJwtExpires:
          type: string
        fabricJwtToken:
          type: string
        fabricMfaToken:
          type: string
        fabricLoggedIn:
          type: string
        sessionId:
          type: string
        sessionInvalidates:
          type: number
        tokenExpires:
          type: string
      example:
        clinicSerial:
          - '123456789'
          - '588834993'
        cosmosId: '123457890'
        fabricId: 123457890
        fabricGVID: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
        fabricJwtExpires: '2024-12-31'
        fabricMfaToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
        fabricLoggedIn: 'true'
        sessionId: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
        sessionInvalidates: 1
        tokenExpires: '2024-12-31'
    Token:
      description: |
        The token is used to authenticate the user for the duration of the tokenExpires time.
        The token is used in the header for all requests that require authentication.
      type: object
      properties:
        token:
          type: string
        tokenExpires:
          type: string
          format: date-time
        userId:
          type: integer
        passwordExpired:
          type: boolean
        roles:
          type: array
          items:
            type: string
        clinicSerial:
          type: string
        completedProfile:
          type: boolean
        phoneVerificationRequired:
          type: boolean
      required:
        - token
        - tokenExpires
        - userId
        - passwordExpired
        - roles
        - clinicSerial
      example:
        token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
        tokenExpires: '2024-05-26T10:15:00'
        userId: 987654
        passwordExpired: false
        roles:
          - user
        clinicSerial: CLN123456789
        completedProfile: true
        phoneVerificationRequired: false
    TokenVerify:
      type: object
      properties:
        confirmationToken:
          type: string
      example:
        confirmationToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
    TreatmentOptions:
      type: array
      items:
        type: object
        properties:
          perksId:
            description: Source Perks drug.id
            type: string
            format: uuid
            example: e82bfafb-eca1-4711-9156-b0f9fc8b54a7
          commonName:
            description: Source Perks drug.commonName
            type: string
            example: Minoxidil
          urlSlug:
            description: Source Perks drug.urlSlug
            type: string
            example: minoxidil
          formulationId:
            description: Source Perks drug.formulationId
            type: string
            format: uuid
          price:
            description: Source Perks drug.price or HealthDyne drug price (from DB) whichever is lower
            $ref: '#/components/schemas/Price'
          quantity:
            description: 'Source Perks drug.quantity or HealthDyne whichever price we use '
            type: number
            format: double
          drugType:
            description: Source Perks drug.drugType
            type: string
            enum:
              - BRAND
              - GENERIC
          description:
            description: Source Perks drug.descriptionText
            type: string
      example:
        - perksId: e82bfafb-eca1-4711-9156-b0f9fc8b54a7
          commonName: Minoxidil
          urlSlug: minoxidil
          formulationId: 84b18721-2493-4a31-a5ad-4d81dc1647e4
          price:
            amount: '8.50'
            currency: USD
            display: $8.50
          quantity: 30
          drugType: BRAND
          description: This medicine is an HMG-CoA reductase inhibitor (also known as a statin) used in combination with...
    TreatmentPlan:
      description: |
        The treatment plan is the result of a completed consult.
        It includes the patient information, the doctor who completed the consult,
        the prescriptions, and the triage options.
      type: object
      properties:
        fabricId:
          type: string
          format: uuid
        assessmentText:
          type:
            - string
            - 'null'
        patientId:
          type: string
          format: uuid
        patientFirstName:
          type: string
        patientLastName:
          type: string
        patientZip:
          type: string
        state:
          type: string
        patientBirthDate:
          type:
            - string
            - 'null'
        patientPhone:
          type:
            - string
            - 'null'
        chiefComplaint:
          type:
            - string
            - 'null'
        reasonForVisit:
          type:
            - string
            - 'null'
        prescriptions:
          type: array
          items:
            $ref: '#/components/schemas/Prescription'
        createdAt:
          type: string
          format: date-time
        finishedAt:
          type:
            - string
            - 'null'
          format: date-time
        headerText:
          type:
            - string
            - 'null'
        icdCode:
          type:
            - string
            - 'null'
        labelText:
          type:
            - string
            - 'null'
        requiredTriageOption:
          type: string
        tags:
          type:
            - array
            - 'null'
          items:
            type: string
        triageRequired:
          type: boolean
        patientMrn:
          type:
            - string
            - 'null'
        doctor:
          type:
            - object
            - 'null'
          properties:
            fabricId:
              type: string
              format: uuid
            firstName:
              type: string
            lastName:
              type: string
            title:
              type: string
        content:
          $ref: '#/components/schemas/TreatmentPlanSuccessContent'
      additionalProperties: false
      example:
        fabricId: f47ac10b-58cc-4372-a567-0e02b2c3d479
        assessmentText: You have a sinus infection.
        patientId: 9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d
        patientFirstName: Hans
        patientLastName: Moleman
        patientZip: '90210'
        state: CA
        patientBirthDate: '1980-01-01'
        patientPhone: 555-555-5555
        chiefComplaint: I have a sore throat.
        reasonForVisit: Cold, sinus infection, or flu
        prescriptions:
          - drugName: Amoxicillin
            ndcCode: 50090-0301
            quantity: 30
            strength: 500mg
            refills: 3
            drugForm: Tablet
            daysSupply: 10
            description: Take one tablet by mouth every 8 hours for 10 days.
        createdAt: '2024-05-26T09:46:00Z'
        finishedAt: '2024-05-26T10:02:00Z'
        headerText: Your treatment plan
        icdCode: J01.90
        labelText: Recommended medications
        requiredTriageOption: ScheduleDoctorVisit
        tags:
          - sinus infection
        triageRequired: true
        patientMrn: '123456'
        doctor:
          fabricId: 123e4567-e89b-12d3-a456-426614174000
          firstName: Nick
          lastName: Riviera
          title: MD
    TreatmentPlanComment:
      description: |
        Comment on treatment plan
      type: object
      properties:
        id:
          type: integer
        comment:
          type: string
        commentableId:
          type: integer
        commentableType:
          type: string
        createdAt:
          type: string
          format: date-time
        endsConversation:
          type: boolean
        needsReview:
          type: boolean
        reviewedByClinicianAt:
          type:
            - 'null'
            - string
          format: date-time
        targetAudience:
          type: array
          items:
            type: string
        title:
          type: string
        updatedAt:
          type: string
          format: date-time
        userId:
          type: integer
      example:
        id: 5809
        comment: 'Should I stop taking this if my symptoms improve?<br>Patient''s phone number is: 1 (320) 310-9771'
        commentableId: 109318
        commentableType: Visit
        createdAt: '2024-09-16T17:40:28Z'
        endsConversation: false
        needsReview: true
        reviewedByClinicianAt: null
        targetAudience:
          - doctor
        title: ''
        updatedAt: '2024-09-16T17:40:28Z'
        userId: 1769
    TreatmentPlanReport:
      description: |
        This returns the treatment plan detailed report that is generated after a completed consult.
        It includes the doctor summray, prescribed medications information, school/work notes, self care, visit follow up, and payment information.
      type: object
      properties:
        report:
          type: object
          properties:
            allowPatientComments:
              type: boolean
            clinicianFooter:
              type: string
            createdAt:
              type: string
              format: date
            commentableExpirationDate:
              type: string
              format: date-time
            completeBy:
              type: string
              format: date-time
            doctorSummary:
              type: string
            doctorSummaryBasicText:
              type: string
            hideSendMessages:
              type: boolean
            id:
              type: number
            orderTransactions:
              type: array
              items:
                type: object
                properties:
                  amount:
                    type: number
                  basePrice:
                    type: number
                  createdAt:
                    type: string
                    format: date-time
                  description:
                    type: string
                  freeVisitReason:
                    type:
                      - 'null'
                      - string
                  insuranceBilledAmount:
                    type:
                      - 'null'
                      - number
                  insuranceBilledAt:
                    type:
                      - 'null'
                      - string
                    format: date-time
                  insurancePaidAmount:
                    type:
                      - 'null'
                      - number
                  insurancePaidAt:
                    type:
                      - 'null'
                      - string
                    format: date-time
                  promoCode:
                    type:
                      - 'null'
                      - string
                  promoCodeAmount:
                    type:
                      - 'null'
                      - number
                  refundAmount:
                    type:
                      - 'null'
                      - number
                  transactionType:
                    type: string
                  zipGroupDiscountAmount:
                    type:
                      - 'null'
                      - number
                  stripePaymentAmount:
                    type:
                      - 'null'
                      - number
            prescriptions:
              type: array
              items:
                $ref: '#/components/schemas/Prescription'
            prescriptionChangePeriodActive:
              type: boolean
            schoolWorkNote:
              type: object
              properties:
                evaluationDateCopy:
                  type: string
                firstDateOfAbsence:
                  type: string
                  format: date-time
                hideSendMessages:
                  type: boolean
                id:
                  type: number
                notes:
                  type:
                    - 'null'
                    - string
                returnMessageCopy:
                  type: string
                updatedAt:
                  type: string
                  format: date-time
            updatePrescriptionAccordionVisible:
              type: boolean
            updateTreatmentPlanVisible:
              type: boolean
        content:
          type: object
          properties:
            medicalEmergencyAttentionText:
              type: string
            callSupportInstruction:
              type: string
            oneMoreQuestionText:
              type: string
            oneMoreQuestionButtonText:
              type: string
      example:
        report:
          allowPatientComments: false
          clinicianFooter: Clinician Footer
          createdAt: '2024-08-29T21:06:03Z'
          commentableExpirationDate: '2024-08-30'
          completeBy: '2021-09-29T00:00:00Z'
          doctorSummary: |-
            <p><b>Dear Harsh,</b></p><p>Based on the information provided, you have <b>viral sinusitis</b>, also known as a sinus infection. Sinus infections are caused by bacteria or a virus and symptoms are almost always identical. The difference between the 2 types of infections is timing.</p><p>Sinus infections start as viral infections and symptoms improve on their own in about 7 days. A bacterial infection may have developed if any of the following apply to you:</p><ul>
            <li>You have had 7 days of symptoms and are experiencing at least 2 of the following:</li>
            <ul>
            <li>Fever</li>
            <li>Facial pressure or headache</li>
            <li>Green or yellow nasal mucus</li>
            <li>Symptoms that improved and then got worse again</li>
            </ul>
            <li>You have had symptoms for 10 or more days</li>
            </ul><h3>Medication information</h3><p>Because you have a viral infection, antibiotics will not help you get better. Treating a viral infection with antibiotics could actually make you feel worse.</p><p>I am prescribing:</p><ul><li>
            <b>Ibuprofen 800 mg oral tablet.</b> Take 1 tablet by mouth 3 times per day as needed for 7 days. Do not exceed 2400mg in 24 hours. There are no refills with this prescription.</li></ul><h3>Self care</h3><p>Steps you can take to be as comfortable as possible:</p><ul>
            <li>Rest.</li>
            <li>Drink plenty of fluids.</li>
            <li>Take a warm shower to loosen congestion</li>
            <li>Use a cool-mist humidifier.</li>
            <li>Use throat lozenges.</li>
            <li>Suck on frozen items such as popsicles.</li>
            <li>Drink hot tea with lemon and honey.</li>
            <li>Gargle with warm salt water (1/4 teaspoon of salt per 8 ounce glass of water).</li>
            </ul><h3>When to seek care</h3><p>Please be seen in a clinic or urgent care if any of the following occur:</p><ul><li>New symptoms develop, or symptoms become worse</li></ul><p><b>Call 911 or go to the emergency room if any of the following occur:</b></p><ul>
            <li>Difficulty breathing</li>
            <li>If you feel that your throat is closing off</li>
            <li>Suddenly develop a rash</li>
            <li>Unable to swallow fluids or are drooling</li>
            </ul><p>For the latest updates on COVID-19 (Coronavirus), please visit the <a href="https://www.cdc.gov/coronavirus/2019-ncov/index.html" target="_blank" rel="nofollow">Centers for Disease Control and Prevention (CDC)</a>. Also, your state and local health department websites may provide additional guidance regarding testing and isolation recommendations for your location.</p>
          doctorSummaryBasicText: |-
            Dear Harsh,

            Based on the information provided, you have viral sinusitis, also
            known as a sinus infection. Sinus infections are caused by
            bacteria or a virus and symptoms are almost always identical. The
            difference between the 2 types of infections is timing.

            Sinus infections start as viral infections and symptoms improve
            on their own in about 7 days. A bacterial infection may have
            developed if any of the following apply to you:

            * You have had 7 days of symptoms and are experiencing at least 2
            of the following:
            * Fever
            * Facial pressure or headache
            * Green or yellow nasal mucus
            * Symptoms that improved and then got worse again
            * You have had symptoms for 10 or more days

            Medication information
            ----------------------

            Because you have a viral infection, antibiotics will not help you
            get better. Treating a viral infection with antibiotics could
            actually make you feel worse.

            I am prescribing:

            * Ibuprofen 800 mg oral tablet. Take 1 tablet by mouth 3 times
            per day as needed for 7 days. Do not exceed 2400mg in 24 hours.
            There are no refills with this prescription.

            Self care
            ---------

            Steps you can take to be as comfortable as possible:

            * Rest.
            * Drink plenty of fluids.
            * Take a warm shower to loosen congestion
            * Use a cool-mist humidifier.
            * Use throat lozenges.
            * Suck on frozen items such as popsicles.
            * Drink hot tea with lemon and honey.
            * Gargle with warm salt water (1/4 teaspoon of salt per 8 ounce
            glass of water).

            When to seek care
            -----------------

            Please be seen in a clinic or urgent care if any of the following
            occur:

            * New symptoms develop, or symptoms become worse
            Call 911 or go to the emergency room if any of the following
            occur:

            * Difficulty breathing
            * If you feel that your throat is closing off
            * Suddenly develop a rash
            * Unable to swallow fluids or are drooling
            For the latest updates on COVID-19 (Coronavirus), please visit
            the Centers for Disease Control and Prevention (CDC) 
            ( https://www.cdc.gov/coronavirus/2019-ncov/index.html ). Also,
            your state and local health department websites may provide
            additional guidance regarding testing and isolation
            recommendations for your location.
          hideSendMessages: false
          id: 37362
          orderTransactions:
            - amount: 2500
              basePrice: 2500
              createdAt: '2024-08-29T17:41:30Z'
              description: 'ZIP(visit) #190507 to Optum Perks MN'
              freeVisitReason: null
              insuranceBilledAmount: null
              insuranceBilledAt: null
              insurancePaidAmount: null
              insurancePaidAt: null
              promoCode: null
              promoCodeAmount: null
              refundAmount: null
              transactionType: Visit
              zipGroupDiscountAmount: null
              stripePaymentAmount: 2500
          prescriptions:
            - drugName: Amoxicillin
              ndcCode: 50090-0301
              quantity: 30
              strength: 500mg
              refills: 3
              drugForm: Tablet
              daysSupply: 10
              description: Take one tablet by mouth every 8 hours for 10 days.
          prescriptionChangePeriodActive: false
          schoolWorkNote:
            evaluationDateCopy: Harsh Patel has been evaluated and received care on 8/29/2024.
            firstDateOfAbsence: '2024-08-29T00:00:00Z'
            hideSendMessages: false
            id: 2452
            notes: null
            returnMessageCopy: Harsh can return to school/work without restrictions on 9/3/2024.
            updatedAt: '2024-08-29T21:06:03Z'
          updatePrescriptionAccordionVisible: false
          updateTreatmentPlanVisible: false
        content:
          medicalEmergencyAttentionText: |
            <span class="attention-color">If you are experiencing a medical emergency, please call</span>
            <a class="attention-color" href="tel:911" style="text-decoration: none; cursor: default;" rel="nofollow">911</a>
          callSupportInstruction: 'If your question is not specific to your visit treatment plan, please contact Customer Support: <a class="footer-support-phone" style="text-decoration: none; cursor: default;" rel="nofollow">(866) 714-3330</a>'
          oneMoreQuestionText: Please enter your question and a phone number you can be reached at if the provider needs to contact you.
          oneMoreQuestionButtonText: Send message
    Visit:
      type: object
      properties:
        id:
          type: string
          format: uuid
      example:
        id: 123e4567-e89b-12d3-a456-426614174000
    VisitInput:
      type: object
      properties:
        conditionLabel:
          type: string
          description: |
            This allows the visit's condition, also known as reason for visit, to be preset at the start of the visit. If this parameter is omitted, the reason_for_visit will be left unset, and the visit will later prompt for a reason for visit.
        locationState:
          description: Condition label is optional. If provided, location state is also required.
          type: string
      example:
        conditionLabel: cp_9q_449a_acne
        locationState: MN
    Error401Unauthorized:
      description: The request is missing a valid token.
      type: object
      properties:
        status:
          type: number
        message:
          type: string
      example:
        status: 401
        message: Unauthorized
    Error404NotFound:
      description: The requested resource was not found.
      type: object
      properties:
        status:
          type: number
        message:
          type: string
      example:
        status: 404
        message: Resource not found
    Error400BadRequest:
      description: Bad Request
      type: object
      properties:
        status:
          type: number
        message:
          type: string
      example:
        status: 400
        message: Bad Request
    Error403Forbidden:
      description: Forbidden
      type: object
      properties:
        status:
          type: number
        message:
          type: string
      example:
        status: 403
        message: 403 Forbidden
    Error422UnprocessableEntity:
      description: Unprocessable Entity
      type: object
      properties:
        status:
          type: number
        errors:
          type: array
          items:
            type: object
            properties:
              message:
                type: string
              reason:
                type: string
        message:
          type: string
      example:
        status: 422
        errors:
          - message: <field> can't be blank
            reason: <field_id>
        message: Unprocessable Entity
    DiscountCard:
      description: |
        It includes the discount coupons details.
      type: object
      properties:
        pcn:
          description: |
            Maps to Fabric discount_card_pcn, only for retail
            Processor Control Number for the discount card.
          type: string
        bin:
          description: |
            Maps to Fabric discount_card_bin, only for retail
            BIN number for the discount card.
          type: string
        uid:
          description: |
            Maps to Fabric discount_card_cardholder_id, only for retail
            Unique identifier for the user, usually assigned by the system.
          type: string
        grp:
          description: |
            Maps to Fabric discount_card_group_id, only for retail
            Group code for the discount card.
          type: string
      example:
        pcn: CLAIMCR
        bin: '005947'
        uid: APD1066745
        grp: 1858CCC
    InvoiceItem:
      description: |
        The invoice item contains the description, quantity, price, subtotal and discount applied to each item.
      type: object
      properties:
        description:
          type: string
        quantity:
          type: integer
        price:
          type: object
          properties:
            currency:
              type: string
            amount:
              type: number
        subtotal:
          type: object
          properties:
            currency:
              type: string
            amount:
              type: number
        discount:
          type:
            - array
            - 'null'
          items:
            $ref: '#/components/schemas/InvoiceItemDiscount'
      example:
        description: Consultation
        quantity: 1
        price:
          currency: USD
          amount: 100
        subtotal:
          currency: USD
          amount: 100
        discount:
          - coupon:
              amountOff: 10
              created: '2021-09-01T00:00:00Z'
              currency: USD
              duration: forever
              durationInMonths: null
              name: 10% off
              percentOff: null
              valid: true
            customer: customer_id
            promotionCode: null
            startDate: 1630454400
    InvoiceItemDiscount:
      description: |
        The invoice item discounts contains the details of the discount applied to the invoice item.
      type: object
      properties:
        coupon:
          type: object
          properties:
            amountOff:
              type:
                - number
                - 'null'
            created:
              type: string
              format: date-time
            currency:
              type: string
            duration:
              type: string
            durationInMonths:
              type:
                - number
                - 'null'
            name:
              type: string
            percentOff:
              type:
                - number
                - 'null'
            valid:
              type: boolean
        customer:
          type: string
        promotionCode:
          type:
            - number
            - 'null'
        startDate:
          type: number
      example:
        coupon:
          amountOff: 10
          created: '2021-09-01T00:00:00Z'
          currency: USD
          duration: forever
          durationInMonths: null
          name: 10% off
          percentOff: null
          valid: true
        customer: customer_id
        promotionCode: null
        startDate: 1630454400
    ReportReceipt:
      description: |
        The report receipt is the result of a completed consult.
        It includes the business information, the stripe payment invoice information.
        It includes the items purchased, the total amount, subtotal amount, taxes and the payment method.
      type: object
      properties:
        business:
          type: object
          properties:
            name:
              type: string
            logo:
              type: string
            phone:
              type: string
            email:
              type: string
            website:
              type: string
        invoice:
          type: string
        datePurchased:
          type: string
          format: date-time
        paymentMethod:
          type: object
          properties:
            type:
              type: string
            card:
              type:
                - object
                - 'null'
              properties:
                brand:
                  type: string
                last4:
                  type: string
        items:
          type: array
          items:
            $ref: '#/components/schemas/InvoiceItem'
        subtotal:
          type: object
          properties:
            currency:
              type: string
            amount:
              type: number
        taxes:
          type: object
          properties:
            currency:
              type: string
            amount:
              type: number
        totalAmount:
          type: object
          properties:
            currency:
              type: string
            amount:
              type: number
      example:
        business:
          name: Business Name
          logo: https://business.com/logo.png
          phone: '+1234567890'
          email: test@email.net
          website: https://business.com
        invoice: invoice_id
        datePurchased: '2021-09-01T00:00:00Z'
        paymentMethod:
          type: card
          card:
            brand: Visa
            last4: '4242'
        items:
          - description: Consultation
            quantity: 1
            price:
              currency: USD
              amount: 100
            subtotal:
              currency: USD
              amount: 100
            discount:
              - coupon:
                  amountOff: 10
                  created: '2021-09-01T00:00:00Z'
                  currency: USD
                  duration: forever
                  durationInMonths: null
                  name: 10% off
                  percentOff: null
                  valid: true
                customer: customer_id
                promotionCode: null
                startDate: 1630454400
        subtotal:
          currency: USD
          amount: 100
        taxes:
          currency: USD
          amount: 10
        totalAmount:
          currency: USD
          amount: 110
    AccountAddress:
      type: object
      description: 'Source: Fabric content.patient_profile'
      properties:
        id:
          type: number
        address1:
          type: string
        address2:
          type:
            - string
            - 'null'
        city:
          type: string
        country:
          type:
            - string
            - 'null'
        phone:
          type:
            - string
            - 'null'
          description: A 10-digit phone number
          pattern: ^\(\d{3}\)\d{3}-\d{4}$
        state:
          type: string
        zip:
          type: string
        fullAddress:
          type: string
        latitude:
          type:
            - number
            - 'null'
        longitude:
          type:
            - number
            - 'null'
      example:
        id: 2910336
        address1: 1049 Moore Grove
        address2: null
        city: Minneapolis
        country: null
        phone: (202)345-6789
        state: MN
        zip: '55401'
        fullAddress: 1049 Moore Grove,  Minneapolis, MN 55401
        latitude: 44.9836543
        longitude: -93.2693572
    AccountUpdate:
      description: |
        The is used to update the account profile.
      type: object
      properties:
        fullName:
          type: string
        phone:
          type: string
          description: A 10-digit phone number
          pattern: ^\(\d{3}\)\d{3}-\d{4}$
        insuranceCarrier:
          type: string
        insuranceId:
          type: string
        email:
          type: string
          format: email
        address:
          $ref: '#/components/schemas/AccountAddress'
      example:
        fullName: Muhammad Rehman
        phone: (509)530-1766
        email: mrehman+1@rvohaealth.com
        address:
          id: 2910336
          address1: 1049 Moore Grove
          address2: null
          city: Minneapolis
          country: null
          phone: (202)345-6789
          state: MN
          zip: '55401'
          fullAddress: 1049 Moore Grove,  Minneapolis, MN 55401
          latitude: 44.9836543
          longitude: -93.2693572
    ConditionMappingCsv:
      type: object
      properties:
        rows:
          type: array
          items:
            type: object
            properties:
              id:
                type: number
                example: 3139
              name:
                type: string
                example: Acute Tenosynovitis
              commonName:
                type: string
                example: Tenosynovitis
              urlSlug:
                type: string
                example: tenosynovitis
              fabricLabel:
                type: string
                example: cp_7q_449a_bladderinfection
            required:
              - id
              - name
              - commonName
              - urlSlug
              - fabricLabel
      example:
        rows:
          - id: 3139
            name: Acute Tenosynovitis
            commonName: Tenosynovitis
            urlSlug: tenosynovitis
            fabricLabel: cp_7q_449a_bladderinfection
    ProgressBarItem:
      type: object
      properties:
        index:
          type: number
        name:
          type: string
      required:
        - index
        - name
      example:
        index: 1
        name: Eligibility
    ContentLabels:
      type: object
      properties:
        formTitle:
          type: string
        forMyselfOption:
          type: string
        forSomeoneOption:
          type: string
        aboutYourselfText:
          type: string
        ageLabel:
          type: string
        locationLabel:
          type: string
        aboutPatientText:
          type: string
        continueButton:
          type: string
        dropdownStatePlaceholder:
          type: string
        dropdownStateNotListed:
          type: string
        myAgeLabel:
          type: string
        backButton:
          type: string
        personalSex:
          type: string
        sex:
          type: object
          properties:
            female:
              type: string
              enum:
                - Female
            male:
              type: string
              enum:
                - Male
        states:
          type: array
          items:
            type: object
            properties:
              abbreviation:
                type: string
              name:
                type: string
    Action:
      type: object
      properties:
        continue:
          type: object
          properties:
            actionLabel:
              type: string
              enum:
                - Continue
                - Select
        goBack:
          type: object
          properties:
            actionLabel:
              type: string
              enum:
                - Back
      example:
        continue:
          actionLabel: Continue
        goBack:
          actionLabel: Back
    GuestVisitEligibility:
      type: object
      properties:
        stateName:
          type: string
        title:
          type: string
        progressBar:
          $ref: '#/components/schemas/ProgressBar'
        contentLabels:
          $ref: '#/components/schemas/ContentLabels'
        actions:
          $ref: '#/components/schemas/Action'
        errorDescriptions:
          type: object
          description: |
            #### Front end error descriptions

            - **errorCode**: Front end can use this to map to specific error.
            - **errorDescription**: Description of the error defined by CMS / Product team.
          additionalProperties:
            type: string
      example:
        stateName: eligibility
        title: Eligibility
        progressBar:
          accountSetup:
            index: 1
            name: Account Setup
          eligibility:
            index: 2
            name: Eligibility
          doctorReview:
            index: 4
            name: Provider Review
          interview:
            index: 3
            name: Interview
          payment:
            index: 5
            name: Payment
          personalInformation:
            index: 6
            name: Personal Information
        contentLabels:
          formTitle: Who is this visit for?
          forMyselfOption: Myself
          forSomeoneOption: Someone Else
          aboutYourselfText: Tell us about yourself
          ageLabel: Age
          locationLabel: Current location
          aboutPatientText: Tell us about the patient
          continueButton: Continue
          dropdownStatePlaceholder: State
          dropdownStateNotListed: My state isn't listed
          myAgeLabel: My Age
          backButton: Back
          personalSex: Sex Assigned at Birth
          sex:
            female: Female
            male: Male
          states:
            - abbreviation: MN
              name: Minnesota
    PatientList:
      type: object
      required:
        - patients
      properties:
        patients:
          type: array
          items:
            type: object
            required:
              - id
              - email
              - firstName
              - lastName
              - birthDate
              - insuranceCarrier
              - insuranceGroup
              - insuranceGroupId
              - insuranceId
              - mobilePhone
              - smsNotify
              - canChangePassword
              - phone
              - address
              - pendingVisits
            properties:
              id:
                type: number
              email:
                type: string
              firstName:
                type: string
              lastName:
                type: string
              birthDate:
                type: string
              insuranceCarrier:
                type:
                  - string
                  - 'null'
              insuranceGroup:
                type:
                  - string
                  - 'null'
              insuranceGroupId:
                type:
                  - string
                  - 'null'
              insuranceId:
                type:
                  - string
                  - 'null'
              mobilePhone:
                type:
                  - string
                  - 'null'
              smsNotify:
                type: boolean
              canChangePassword:
                type: boolean
              phone:
                type: string
              address:
                type: object
                required:
                  - id
                  - address1
                  - address2
                  - city
                  - country
                  - phone
                  - state
                  - zip
                  - fullAddress
                  - latitude
                  - longitude
                properties:
                  id:
                    type: number
                  address1:
                    type: string
                  address2:
                    type:
                      - string
                      - 'null'
                  city:
                    type: string
                  country:
                    type:
                      - string
                      - 'null'
                  phone:
                    type:
                      - string
                      - 'null'
                  state:
                    type: string
                  zip:
                    type: string
                  fullAddress:
                    type: string
                  latitude:
                    type:
                      - number
                      - 'null'
                  longitude:
                    type:
                      - number
                      - 'null'
              pendingVisits:
                type: number
      example:
        patients:
          - id: 44
            email: dev@rvohealth.com
            firstName: Gugli
            lastName: Macaroni
            birthDate: '1981-03-31'
            insuranceCarrier: null
            insuranceGroup: null
            insuranceGroupId: null
            insuranceId: null
            mobilePhone: null
            smsNotify: false
            canChangePassword: true
            phone: '16125551234'
            address:
              id: 45
              address1: 902 Hannah Crest
              address2: null
              city: Minneapolis
              country: USA
              phone: ''
              state: MN
              zip: '55401'
              fullAddress: 902 Hannah Crest,  Minneapolis, MN 55401
              latitude: null
              longitude: null
            pendingVisits: 2
    PatientCore:
      type: object
      required:
        - firstName
        - lastName
        - birthDate
        - gender
      properties:
        firstName:
          description: |
            The first name of the patient.
          type: string
        lastName:
          description: |
            The last name of the patient.
          type: string
        birthDate:
          description: |
            The date of birth of the patient.
          type: string
          format: date
        gender:
          description: |
            The gender of the patient.
          type: string
          enum:
            - male
            - female
      example:
        firstName: John
        lastName: Doe
        birthDate: '2010-01-01'
        gender: male
    PatientCreatePayload:
      type: object
      allOf:
        - $ref: '#/components/schemas/PatientCore'
        - type: object
          properties:
            relationship:
              type: string
              description: |
                The dependent's relationship to the primary patient account.
              enum:
                - Legal Dependent
                - Son
                - Daughter
                - Child
                - Spouse/Partner
      required:
        - relationship
      example:
        firstName: John
        lastName: Doe
        birthDate: '2010-01-01'
        gender: male
        relationship: Child
    id:
      type: integer
      description: |
        The unique identifier of the patient.
    PatientRecord:
      type: object
      allOf:
        - type: object
          properties:
            id:
              type: integer
              description: |
                The unique identifier of the patient.
            dependent:
              description: |
                Whether the patient is a dependent or not.
              type: boolean
            relationship:
              description: |
                The relationship of the patient to the primary patient account, including the primary patient account itself.
              type: string
              enum:
                - Primary
                - Legal Dependent
                - Son
                - Daughter
                - Child
                - Spouse/Partner
            primaryPatientId:
              description: |
                The primary patient account ID. This is used to link the patient to the primary patient account family.
              $ref: '#/components/schemas/id'
        - $ref: '#/components/schemas/PatientCore'
      required:
        - id
        - dependent
        - primaryPatientId
        - relationship
      example:
        id: 44366
        firstName: John
        lastName: Doe
        birthDate: '2010-01-01'
        gender: male
        dependent: true
        relationship: Child
        primaryPatientId: 99999
    Allergy:
      type: object
      properties:
        id:
          type: integer
        state:
          type: string
        allergyId:
          type: string
        name:
          type: string
        externalAllergyId:
          type:
            - string
            - 'null'
        externalCode:
          type:
            - string
            - 'null'
      example:
        id: 3075
        state: active
        allergyId: '2006808'
        name: Tylenol
        externalAllergyId: null
        externalCode: null
    Medication:
      type: object
      properties:
        id:
          type: integer
        medicationId:
          type: string
        medicationName:
          type: string
        state:
          type: string
        externalMedicationId:
          type:
            - string
            - 'null'
        externalCode:
          type:
            - string
            - 'null'
      example:
        id: 5006
        medicationId: '6171233'
        name: Briviact oral
        state: active
        externalMedicationId: null
        externalCode: null
    AllergyMedicationPayload:
      description: List of allergies and medications for the given patient
      type: object
      properties:
        allergies:
          type: array
          items:
            $ref: '#/components/schemas/Allergy'
        medications:
          type: array
          items:
            $ref: '#/components/schemas/Medication'
      example:
        allergies:
          - id: 3075
            state: active
            allergyId: '2006808'
            name: Tylenol
            externalAllergyId: null
            externalCode: null
        medications:
          - id: 5006
            medicationId: '6171233'
            name: Briviact oral
            state: active
            externalMedicationId: null
            externalCode: null
    PatientMailOrderRequest:
      type: object
      properties:
        mailOrderRequestKey:
          description: Identifier of mail order request from 3rd party prescription mail fulfillment service
          type: string
        orderNumber:
          description: User friendly order number the fulfillment service associated with mail order request
          type:
            - string
            - 'null'
        timestamp:
          description: Timestamp representing the latest time something changed with mail order request
          type: string
        status:
          description: Status code of mail order request
          type: string
          enum:
            - Placed
            - Processing
            - Shipped
        statusMessage:
          description: User friendly message relaying status code
          type:
            - string
            - 'null'
        shipmentCarrier:
          description: Code that reflects what shipping carrier is handling the mail order request
          type:
            - string
            - 'null'
        shipmentDate:
          description: Date mail order was shipped to customer
          type:
            - string
            - 'null'
        trackingNumber:
          description: Identifier of shipment from 3rd party mail carrier service
          type:
            - string
            - 'null'
        trackingUrl:
          description: A url that directs users to the 3rd party mail carrier site to check the latest tracking information
          type:
            - string
            - 'null'
      example:
        mailOrderRequestKey: FILL13SEP2024013624221
        orderNumber: “7537084”,
        timestamp: '2024-09-13T15:00:44.051716Z'
        status: Shipped
        statusMessage: The Rx has been shipped
        shipmentCarrier: “UPS”
        shipmentDate: “2024-09-06T06:00:02Z”
        trackingNumber: '12344567'
        trackingUrl: https://upstrackingurl?id=12345
    NotificationDetail:
      description: |
        Notification object
      type: object
      properties:
        id:
          type: integer
        title:
          type: string
        message:
          type: string
        messageType:
          type:
            - 'null'
            - string
        category:
          type: string
        force:
          type: boolean
        viewedAt:
          type:
            - 'null'
            - string
          format: date-time
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        notificationLinks:
          type: array
          items:
            $ref: '#/components/schemas/NotificationLink'
      example:
        id: 123
        title: You have a provider response available
        message: Thank you for using Optum Perks Online Care! Your provider has reviewed your symptoms and created a treatment plan.
        messageType: null
        category: treatment_plan
        force: true
        viewedAt: '2025-01-03T22:06:29Z'
        createdAt: '2025-01-03T22:06:29Z'
        updatedAt: '2025-01-03T22:06:29Z'
        notificationLinks:
          - id: 123
            href: /visits/195020/report
            label: View Treatment Plan
    PaymentDiscount:
      description: |
        See https://docs.stripe.com/api/promotion_codes/list
      type: object
      properties:
        active:
          type: boolean
          description: |
            Maps from PromotionsCode.active in Stripe
        code:
          type: string
          description: |
            Maps from PromotionsCode.code in Stripe
        couponId:
          type: string
          description: |
            Maps from PromotionsCode.coupon.id in Stripe
        amountOff:
          type: number
          description: |
            Maps from PromotionsCode.coupon.amount_off in Stripe
        percentOff:
          type: number
          description: |
            Maps from PromotionsCode.coupon.percent_off in Stripe
      example:
        active: true
        code: A1H1Q1MG
        couponId: nVJYDOag
        amountOff: 0
        percentOff: 25.5
    PaymentMethods:
      description: |
        See https://docs.stripe.com/api/payment_methods/object
      type: array
      items:
        $ref: '#/components/schemas/PaymentMethod'
      example:
        - name: visa 5555
          lastFour: '5555'
          fingerprint: Xt5EWLLDS7FJjR1c
          expireMonth: 8
          expireYear: 2025
        - name: amex 3555
          lastFour: '3555'
          fingerprint: Ut5EWLLDS7FJjR1c
          expireMonth: 5
          expireYear: 2027
    GVID:
      description: |
        This cookie need to be passed in subsequent calls to endpoints for the guest visit that was created.
      type: object
      properties:
        gvid:
          type: string
      required:
        - gvid
      example:
        gvid: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
    ShippingAddress:
      type: object
      properties:
        line1:
          type: string
        line2:
          type: string
        line3:
          type: string
        city:
          type: string
        state:
          type: string
        zipCode:
          type: string
      required:
        - line1
        - city
        - state
        - zipCode
      example:
        line1: TEST MAIN
        line2: Bldg 3
        line3: Suite 102
        city: MINNEAPOLIS
        state: MN
        zipCode: '55401'
    HomeDeliveryPrescription:
      description: |
        The prescription ordered for home delivery
      type: object
      required:
        - drugName
        - strength
        - strengthQualifier
        - quantityQualifier
        - status
      properties:
        drugName:
          description: |
            The name of the drug in the prescription
          type: string
        strength:
          description: |
            The strength of the drug relative to the unit of measurement
          type: string
        strengthQualifier:
          description: |
            The strength unit of measurement for the drug
          type: string
        quantityQualifier:
          description: |
            The quanity unit of measurement for the drug
          type: string
        status:
          description: |
            The status of the prescription fulfillment
          type: string
          enum:
            - placed
            - processing
            - shipped
      example:
        drugName: Tylenol
        strength: '500'
        strengthQualifier: mg
        quantityQualifier: tablet
        status: processing
    HomeDeliveryOrderStatus:
      description: |
        The prescription ordered for home delivery and its fulfillment status
      type: object
      required:
        - id
        - createdDate
        - shippingAddress
        - prescription
      properties:
        id:
          description: |
            The unique order ID assigned to the order
          type: string
          format: unique
        createdDate:
          description: |
            The date the order was created
          type: string
          format: date
        shippedDate:
          description: |
            The date the order was shipped
          type: string
          format: date
        shippingAddress:
          description: |
            The delivery address for fulfilling the order
          $ref: '#/components/schemas/ShippingAddress'
        prescription:
          description: |
            The prescription drug included in the order along with its fulfillment status
          $ref: '#/components/schemas/HomeDeliveryPrescription'
      example:
        id: CLAIMCR
        createdDate: '2025-01-08'
        shippedDate: '2025-01-10'
        shippingAddress:
          line1: 123 Willow Way
          city: Somewheresville
          state: FL
          zipCode: '11111'
        prescription:
          drugName: Tylenol
          strength: '500'
          strengthQualifier: mg
          quantityQualifier: tablet
          status: processing
    TreatmentPlanSuccessContent:
      description: |
        Static content indicating that a treament plan has successfully been created.
      type: object
      properties:
        treatmentPlanCreatedFirstPerson:
          type: string
        treatmentPlanCreatedThirdPerson:
          type: string
        treatmentPlanAvailable:
          type: string
      additionalProperties: false
      example:
        treatmentPlanCreatedFirstPerson: Thank you for using Optum Perks Online Care! Your provider has reviewed your symptoms and created a treatment plan.
        treatmentPlanCreatedThirdPerson: Thank you for using Optum Perks Online Care! A provider has reviewed Hans's symptoms and created a treatment plan.
        treatmentPlanAvailable: Your Treatment Plan is Available.
  parameters:
    visit-id:
      name: visit-id
      in: path
      description: The visit id for a treatment
      required: true
      schema:
        type: string
        format: uuid
      example:
        summary: Example visit ID
        value: 9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d
    account-id:
      name: account-id
      in: path
      required: true
      schema:
        type: string
      description: A patient account id.
      example:
        summary: Example of an Account Id
        value: '88315'
    pharmacy-id:
      name: pharmacy-id
      in: path
      description: |
        The pharmacy id in Perks XAPI (ideally a universal one)
      required: true
      schema:
        type: string
      example:
        summary: Example pharmacy ID
        value: '00605'
    pi-secret:
      name: pi-secret
      in: path
      required: true
      schema:
        type: string
        pattern: ^[a-z0-9_]+$
      description: |
        The client secret associated with a patient intent in stripe.  Represents an invoice and payment(s) that 
        a customer has incurred and paid.
      example:
        summary: Example Payment Intent client secret
        value: pi_3MtwBwLkdIwHu7ix28a3tqPa_secret_YrKJUKribcBjcG8HVhfZluoGH
    payment-method-name:
      name: patient-method-name
      in: path
      description: The name associated with payment method
      required: true
      schema:
        type: string
      example:
        summary: Example Payment Method Name
        value: visa-9999
    url-slug:
      name: url-slug
      in: path
      required: true
      schema:
        type: string
        pattern: ^[a-z0-9-]+$
      description: |
        The url-slug of a health condition.  Normally this is the Perks XAPI url-slug.  However,
        in some cases, to allow for reverse lookup it is a slugged version of the Fabric condition name.
      example:
        summary: Example Condition Url Slug
        value: urinary-tract-infection
    Accept-Language:
      name: Accept-Language
      in: header
      description: |
        Specifies which language the client is able to understand. When specified, the server should localize dynamic data, like prices and content, based on the specified language code. Static labels on the client, like headings and button labels, will be localized on the client.
      schema:
        type: string
      example:
        english:
          summary: English (United States)
          value: en-US
    Content-Type:
      name: Content-Type
      in: header
      description: |
        Used to indicate the original media type of the resource.
      schema:
        type: string
      example:
        for-images:
          value: application/x-www-form-urlencoded
    User-Agent:
      name: User-Agent
      in: header
      description: |
        For native apps, User-Agent must be present with the following format: Optum Perks/[App Version]/[Build] ([Platform]; [OS Version]; [Model]).

        For web apps, the browser's default User-Agent is expected.
      schema:
        type: string
      examples:
        androidExample:
          summary: Example for an Android device
          value: Optum Perks/1.1.0/2020092401 (Android; 7.0; Pixel 3a)
        iosExample:
          summary: Example for an iOS device
          value: Optum Perks/1.1.0/2020092401 (iOS; 13.6; iPhone10,6)
    Ocp-Apim-Subscription-Key:
      name: Ocp-Apim-Subscription-Key
      in: header
      description: |
        Holds the api key for Azure APIM
      schema:
        type: string
        format: uuid
      example:
        basic-example:
          value: 72ec7cc7-9670-4386-9145-5f91b40ca9b5
    x-admin-key:
      $ref: '#/components/parameters/X-Admin-Key'
    category:
      name: category
      in: query
      required: false
      schema:
        type: string
      description: Query conditions by category
      example:
        summary: Example query
        value: Acne
    deliveryType:
      name: deliveryType
      in: query
      description: Type of delivery service (e.g., retail or mail order). Defaults to mail order. (Optional)
      required: false
      schema:
        type: string
        enum:
          - Retail
          - MailOrder
      example: MailOrder
    imageId:
      name: imageId
      in: query
      description: The uploaded image ID for a guest visit / visit interaction
      required: true
      schema:
        type: number
      example:
        summary: Example image ID
        value: 17180
    pharmacyName:
      name: pharmacyName
      in: query
      description: Pharmacy name to look for.
      required: false
      schema:
        type: string
      example:
        value: CVS
        summary: An example start of a pharmacy name  to search for
    ndc:
      name: ndc
      in: query
      description: National Drug Code.
      required: false
      schema:
        type: string
      example:
        value: '0169430730'
        summary: An example NDC
    zipCode:
      name: zipCode
      in: query
      description: Zip Code of an area.
      required: false
      schema:
        type: string
      example:
        value: '12345'
        summary: An example Zip Code
    searchQuery:
      name: searchQuery
      in: query
      description: Search query string to get matching results.
      required: false
      schema:
        type: string
      example:
        value: methen
        summary: An example search query to get all drug names starting with "methen"
    GVID:
      name: GVID
      in: cookie
      description: |
        This cookie acts as a temporary access token that must be retained and sent in subsequent guest_visits requests. The cookie expires in two hours. There is no option to refresh the token so the guest visit must be completed within the timeframe.
      required: true
      schema:
        type: string
      example:
        GVIDCookieExample:
          summary: Example GVID cookie
          value: 9QVmrGhIP3Q2CzBJXSh7HOY8T4jOdEBiT%2B4X2w4Tizkio6csjbe3M3Cfs5ZMZ7nCXDcxzHA3wyNSO6e%2FfyfLOsvb0isFaAl53z%2Fd6bDafGlyQmimRfItZwbA6BplcKglhurCGr3tOMKgpDi7h4pGiZnK%2BJ2K--FeG4KN4JaX83oV%2B4--s7UxQO4w%2BDjray3ieUTKuw%3D%3D;
    coupon-id:
      name: coupon-id
      in: path
      description: |
        The coupon id in Perks XAPI 
      required: true
      schema:
        type: string
      example:
        summary: Example coupon id
        value: 00605-878782-NJUY876HY
    condition-legacy:
      name: condition-legacy
      in: path
      required: true
      schema:
        type: string
        pattern: ^[a-z0-9_-]+$
      description: |
        Legacy for existing tests. Allows url-slugs and fabric labels as options.
      examples:
        exampleConditionLegacyLabel:
          summary: Example Condition Fabric Label
          value: cp_9q_449a_acne
        exampleConditionLegacySlug:
          summary: Example Condition Url Slug
          value: urinary-tract-infection
    condition-label:
      name: condition-label
      in: path
      required: true
      schema:
        type: string
        pattern: ^[a-z0-9_]+$
      description: The Fabric label of a condition
      example:
        summary: Example Condition Label
        value: cp_9q_449a_acne
    name:
      name: name
      in: query
      description: String to look for in Drug description field.
      required: false
      schema:
        type: string
      example:
        value: tazora
        summary: An example drug name or description to search for
    utmSource:
      name: utmSource
      in: query
      description: The source of the traffic (e.g., google, newsletter)
      required: false
      schema:
        type: string
      example:
        value: google
    utmMedium:
      name: utmMedium
      in: query
      description: The marketing medium (e.g., cpc, banner, email)
      required: false
      schema:
        type: string
      example:
        value: email
    utmCampaign:
      name: utmCampaign
      in: query
      description: The specific campaign name, slogan, or promotion code
      required: false
      schema:
        type: string
      example:
        value: summer_sale
    utmTerm:
      name: utmTerm
      in: query
      description: Identify paid search keywords
      required: false
      schema:
        type: string
      example:
        value: online_care
    utmContent:
      name: utmContent
      in: query
      description: Used to differentiate similar content or links within the same ad
      required: false
      schema:
        type: string
      example:
        value: banner_1
    patient-id:
      name: patient-id
      in: path
      required: true
      schema:
        type: number
      description: A patient id.
      example:
        summary: Example of an Patient Id
        value: 188315
    page:
      name: page
      in: query
      description: Page number being requested
      required: false
      schema:
        type: integer
        default: 1
      example:
        value: 1
    limit:
      name: limit
      in: query
      description: Maximum number of results per page
      required: false
      schema:
        type: integer
        default: 10
      example:
        value: 10
    X-Admin-Key:
      name: x-admin-key
      in: header
      description: |
        Admin Key for Admin tagged endpoints
      schema:
        type: string
      example:
        basic-example:
          value: totally_legit_admin_key
    reset:
      name: reset
      in: query
      description: |
        Currently used when retrieving metrics.
        If present, metrics that accumulate will be reset / cleared.
      required: false
      schema:
        type: string
      examples:
        resetQueryExample:
          value: 'true'
    promo-code:
      name: promo-code
      in: path
      required: true
      schema:
        type: string
      description: |
        A promo code entered buy the user.
      example:
        summary: Promotion Code
        value: A1H1Q1MG
    patient-name:
      name: patient-name
      in: path
      description: The first name of a patient
      required: true
      schema:
        type: string
        format: uuid
      example:
        summary: Example Patient Name
        value: Hans
  examples:
    allergyNames:
      value:
        - id: 1000730
          name: Acrylic Acid and Acrylates
        - id: 2000941
          name: Actidose-Aqua
        - id: 2014289
          name: Aceta-Gesic (with phenyltolox)
        - id: 2015141
          name: Acel-Imune
        - id: 2113878
          name: Otosporin(Al-boric,acet acids)
    clinicalInterviewInteraction:
      value:
        stateName: clinical_interview
        title: Interview Question
        progressBar:
          accountSetup:
            index: 1
            name: Account Setup
          eligibility:
            index: 2
            name: Eligibility
          doctorReview:
            index: 4
            name: Provider Review
          interview:
            index: 3
            name: Interview
          payment:
            index: 5
            name: Payment
          personalInformation:
            index: 6
            name: Personal Information
        content:
          - contentType: select_input
            contentName: q775
            contentLabel: <p>Almost done! Photos of the affected area of the skin are required to diagnose and treat you.</p><p><b>Can photos be taken and uploaded at this time?</b></p>
            options:
              - optionLabel: 'Yes'
                optionValue: 'yes'
              - optionLabel: 'No'
                optionValue: 'no'
            required: true
        errorDescriptions:
          medicationsAddError: There was an error adding your medication.
          medicationsDeleteError: There was an error deleting your medication.
          medicationsDiscontinuedError: There was an error discontinuing your medication.
          medicationsGetError: There was an error getting a list of your medications.
        progress:
          clinical_interview:
            percentage: 28.4
        actions:
          continue:
            actionLabel: Continue
          goBack:
            actionLabel: Back
    currentMedicationsInteraction:
      value:
        stateName: current_medications
        title: Current Medications
        progressBar:
          accountSetup:
            index: 1
            name: Account Setup
          eligibility:
            index: 2
            name: Eligibility
          doctorReview:
            index: 4
            name: Provider Review
          interview:
            index: 3
            name: Interview
          payment:
            index: 5
            name: Payment
          personalInformation:
            index: 6
            name: Personal Information
        content:
          - contentType: lookup_list_input
            contentName: current_medication_ids
            contentLabel: Medication list
            lookupApiUrl: https://online-care-stage.perks.optum.com/erx_tools/drug_names?q=
        errorDescriptions:
          medicationsAddError: There was an error adding your medication.
          medicationsDeleteError: There was an error deleting your medication.
          medicationsDiscontinuedError: There was an error discontinuing your medication.
          medicationsGetError: There was an error getting a list of your medications.
        actions:
          continue:
            actionLabel: Continue
          goBack:
            actionLabel: Back
    drugNames:
      value:
        - id: 2009551
          name: Cystex (methenamine-benz acid)
        - id: 2253445
          name: Cystex Plus (methenamine-sal)
        - id: 6144837
          name: infant formula, metabolic, methionine-free oral
        - id: 6144916
          name: nutritional treatment, metabolic, methionine-free oral
        - id: 6148869
          name: methenamine-methylene blue-sod phos-p.salicy-hyoscyamin oral
    imageUploadInteraction:
      value:
        stateName: photo_upload
        title: Photo Upload
        progressBar:
          accountSetup:
            index: 1
            name: Account Setup
          eligibility:
            index: 2
            name: Eligibility
          doctorReview:
            index: 4
            name: Provider Review
          interview:
            index: 3
            name: Interview
          payment:
            index: 5
            name: Payment
          personalInformation:
            index: 6
            name: Personal Information
        content:
          - contentType: image_upload
            contentName: condition_photos
            contentLabel: <b>Please upload 2 to 3 photos for your provider to review.</b>
            minCount: 2
            maxCount: 3
            postUrl: https://online-care-stage.perks.optum.com/api/v1/guest_visits/6496aec8-2f45-4186-9e71-ccfe515fb9f3/create_image
        errorDescriptions:
          medicationsAddError: There was an error adding your medication.
          medicationsDeleteError: There was an error deleting your medication.
          medicationsDiscontinuedError: There was an error discontinuing your medication.
          medicationsGetError: There was an error getting a list of your medications.
        actions:
          continue:
            actionLabel: Continue
          goBack:
            actionLabel: Back
    promptToRegisterInteraction:
      value:
        stateName: prompt_to_register
        title: Thanks, just a few more things!
        progressBar:
          accountSetup:
            index: 1
            name: Account Setup
          eligibility:
            index: 2
            name: Eligibility
          doctorReview:
            index: 4
            name: Provider Review
          interview:
            index: 3
            name: Interview
          payment:
            index: 5
            name: Payment
          personalInformation:
            index: 6
            name: Personal Information
        content:
          - contentType: free_text_input
            contentName: first_name
            contentLabel: Legal First Name
            required: true
            maxLength: 50
          - contentType: free_text_input
            contentName: middle_name
            contentLabel: Legal Middle Name
            required: true
            maxLength: 50
          - contentType: free_text_input
            contentName: last_name
            contentLabel: Legal Last Name
            required: true
            maxLength: 50
          - contentType: free_text_input
            contentName: phone
            contentLabel: Phone
            required: true
            maxLength: 16
          - contentType: date_input
            contentName: birth_date
            contentLabel: Birth Date (MM/DD/YYYY)
            required: true
          - contentType: free_text_input
            contentName: email
            contentLabel: Email address
            required: true
            maxLength: 254
          - contentType: free_text_input
            contentName: password
            contentLabel: Password
            required: true
            maxLength: 72
          - contentType: free_text_input
            contentName: password_confirmation
            contentLabel: Password Confirmation
            required: true
            maxLength: 72
          - contentType: yes_no_input
            contentName: legal_agreement
            contentLabel: I agree to the <a id=\"terms_of_service_link\" href=\"/terms_of_service\">Terms of Service</a> and <a id=\"privacy_policy_link\" href=\"/privacy\">Privacy Policy</a>.
        errorDescriptions:
          medicationsAddError: There was an error adding your medication.
          medicationsDeleteError: There was an error deleting your medication.
          medicationsDiscontinuedError: There was an error discontinuing your medication.
          medicationsGetError: There was an error getting a list of your medications.
        actions: {}
    reasonForVisitInteraction:
      value:
        stateName: reason_for_visit
        title: What is the reason for this visit?
        progressBar:
          accountSetup:
            index: 1
            name: Account Setup
          eligibility:
            index: 2
            name: Eligibility
          doctorReview:
            index: 4
            name: Provider Review
          interview:
            index: 3
            name: Interview
          payment:
            index: 5
            name: Payment
          personalInformation:
            index: 6
            name: Personal Information
        content:
          - contentType: select_input
            contentName: reason
            contentLabel: ''
            required: true
            options:
              - optionValue: cp_9q_449a_acne
                optionLabel: Acne
                meta:
                  restrictions:
                    - Available for ages 12 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 12
                    establishedPatientsOnly: null
              - optionValue: cp_218q_449a_reason
                optionLabel: Altitude sickness prevention
                meta:
                  restrictions:
                    - Available for ages 18 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 18
                    establishedPatientsOnly: null
              - optionValue: cp_177q_449a_reason
                optionLabel: Anti-aging skin treatments
                meta:
                  restrictions:
                    - Available for ages 18+ years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: null
                    patientMinAge: 18
                    establishedPatientsOnly: null
              - optionValue: cp_14q_449a_asthma
                optionLabel: Asthma medication refill
                meta:
                  restrictions:
                    - Available for ages 6 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 6
                    establishedPatientsOnly: false
              - optionValue: cp_13q_843a_athletesfoot
                optionLabel: Athlete's foot
                meta:
                  restrictions:
                    - Available for ages 3 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_26q_449a_burn
                optionLabel: Burns (minor) and sunburns
                meta:
                  restrictions:
                    - Available for ages 6 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 6
                    establishedPatientsOnly: null
              - optionValue: cp_12q_449a_covid19coronavirus
                optionLabel: COVID-19
                meta:
                  restrictions:
                    - Available for ages 3 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_184q_449a_reason
                optionLabel: COVID-19 treatments
                meta:
                  restrictions:
                    - Available for ages 18 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 18
                    establishedPatientsOnly: null
              - optionValue: cp_11q_449a_oralmouthsores
                optionLabel: Canker sore
                meta:
                  restrictions:
                    - Available for ages 6 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 6
                    establishedPatientsOnly: false
              - optionValue: cp_24q_449a_Visit
                optionLabel: Chlamydia exposure
                meta:
                  restrictions:
                    - Available for ages 18 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 18
                    establishedPatientsOnly: null
              - optionValue: cp_11q_449a_coldsoreorfeverblister
                optionLabel: Cold sore or fever blister
                meta:
                  restrictions:
                    - Available for ages 6 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 6
                    establishedPatientsOnly: false
              - optionValue: cp_11q_449a_preventingcoldsores
                optionLabel: Cold sore prevention
                meta:
                  restrictions:
                    - Available for ages 6 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 6
                    establishedPatientsOnly: false
              - optionValue: cp_12q_449a_respiratory
                optionLabel: Cold, sinus infection, or flu
                meta:
                  restrictions:
                    - Available for ages 3 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_11q_449a_cracksonthecornerofthelips
                optionLabel: Cracks on the corner of the lips
                meta:
                  restrictions:
                    - Available for ages 6 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 6
                    establishedPatientsOnly: false
              - optionValue: cp_181q_449a_reason
                optionLabel: Dental pain
                meta:
                  restrictions:
                    - Available for ages 12 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 12
                    establishedPatientsOnly: null
              - optionValue: cp_4q_12a_yes
                optionLabel: Diaper rash
                meta:
                  restrictions:
                    - Available for ages 3 to 3 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 3
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_222q_449a_reason
                optionLabel: ER visit follow-up (video required)
                meta:
                  restrictions:
                    - Available for ages 12 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 12
                    establishedPatientsOnly: null
              - optionValue: cp_15q_449a_Visit
                optionLabel: Eczema
                meta:
                  restrictions:
                    - Available for ages 3 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 3
                    establishedPatientsOnly: false
              - optionValue: cp_19q_449a_epi
                optionLabel: EpiPen medication refill
                meta:
                  restrictions:
                    - Available for ages 4 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 4
                    establishedPatientsOnly: false
              - optionValue: cp_23q_449a_Visit
                optionLabel: Erectile dysfunction
                meta:
                  restrictions:
                    - Available to males only.
                    - Available for ages 40 to 75 years old.
                  eligibilitySettings:
                    patientGender: male
                    patientMaxAge: 75
                    patientMinAge: 40
                    establishedPatientsOnly: false
              - optionValue: cp_36q_449a_reason
                optionLabel: Eyelash lengthening
                meta:
                  restrictions:
                    - Available for ages 18 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 18
                    establishedPatientsOnly: null
              - optionValue: cp_41q_449a_reason
                optionLabel: Flu exposure
                meta:
                  restrictions:
                    - Available for ages 3 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_130q_449a_reason
                optionLabel: General medication refill
                meta:
                  restrictions:
                    - Available for ages 3 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_176q_449a_reason
                optionLabel: Genital herpes medication refill
                meta:
                  restrictions:
                    - Available for ages 18 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 18
                    establishedPatientsOnly: null
              - optionValue: cp_34q_449a_reason
                optionLabel: Head lice
                meta:
                  restrictions:
                    - Available for ages 3 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_6q_12a_GERD
                optionLabel: Heartburn or acid reflux
                meta:
                  restrictions:
                    - Available for ages 18 to 64 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 64
                    patientMinAge: 18
                    establishedPatientsOnly: null
              - optionValue: cp_219q_449a_reason
                optionLabel: Heel pain
                meta:
                  restrictions:
                    - Available for ages 16 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 16
                    establishedPatientsOnly: null
              - optionValue: cp_11q_449a_impetigo
                optionLabel: Impetigo
                meta:
                  restrictions:
                    - Available for ages 6 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 6
                    establishedPatientsOnly: false
              - optionValue: cp_209q_449a_reason
                optionLabel: Insect bite or sting
                meta:
                  restrictions:
                    - Available for ages 3 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_13q_843a_jockitch
                optionLabel: Jock itch
                meta:
                  restrictions:
                    - Available for ages 3 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_32q_449a_lowbackpain
                optionLabel: Low back pain
                meta:
                  restrictions:
                    - Available for ages 18 to 64 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 64
                    patientMinAge: 18
                    establishedPatientsOnly: null
              - optionValue: cp_17q_449a_preventionofmalaria
                optionLabel: Malaria prevention
                meta:
                  restrictions:
                    - Available for ages 6 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 6
                    establishedPatientsOnly: null
              - optionValue: cp_35q_449a_reason
                optionLabel: Male pattern baldness
                meta:
                  restrictions:
                    - Available to males only.
                    - Available for ages 18 to 75 years old.
                  eligibilitySettings:
                    patientGender: male
                    patientMaxAge: 75
                    patientMinAge: 18
                    establishedPatientsOnly: false
              - optionValue: cp_213q_449a_shorttermmigrainemedicationrefills
                optionLabel: Migraine medication refill
                meta:
                  restrictions:
                    - Available for ages 18 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 18
                    establishedPatientsOnly: null
              - optionValue: cp_3q_14a_motionsicknessprevention
                optionLabel: Motion sickness prevention
                meta:
                  restrictions:
                    - Available for ages 3 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_33q_449a_reason
                optionLabel: Nail condition
                meta:
                  restrictions:
                    - Available for ages 3 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_2q_12a_pinkeye
                optionLabel: Pink eye
                meta:
                  restrictions:
                    - Available for ages 3 to 64 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 64
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_171q_449a_reason
                optionLabel: Post-COVID discharge (video required)
                meta:
                  restrictions:
                    - Available for ages 18+ years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: null
                    patientMinAge: 18
                    establishedPatientsOnly: null
              - optionValue: cp_185q_449a_reason
                optionLabel: Prediabetes screening
                meta:
                  restrictions:
                    - Available for ages 18 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 18
                    establishedPatientsOnly: null
              - optionValue: cp_18q_633a_tobacco
                optionLabel: Quit smoking
                meta:
                  restrictions:
                    - Available for ages 18 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 18
                    establishedPatientsOnly: false
              - optionValue: cp_13q_843a_tinea
                optionLabel: Ringworm (fungal skin infection)
                meta:
                  restrictions:
                    - Available for ages 3 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_9q_449a_rosacea
                optionLabel: Rosacea
                meta:
                  restrictions:
                    - Available for ages 12 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 12
                    establishedPatientsOnly: null
              - optionValue: cp_1q_1313a_hayfeverorallergies
                optionLabel: Seasonal allergies
                meta:
                  restrictions:
                    - Available for ages 3 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_27q_449a_shingles
                optionLabel: Shingles
                meta:
                  restrictions:
                    - Available for ages 18 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 18
                    establishedPatientsOnly: null
              - optionValue: cp_15q_449a_poisonivyorothercontactdermatitis
                optionLabel: Skin irritation (contact dermatitis)
                meta:
                  restrictions:
                    - Available for ages 3 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 3
                    establishedPatientsOnly: false
              - optionValue: cp_10q_449a_IBS
                optionLabel: Stomach issues
                meta:
                  restrictions:
                    - Available for ages 12 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 12
                    establishedPatientsOnly: null
              - optionValue: cp_2q_12a_styebumporbumpsontheeyelid
                optionLabel: Stye (bump or bumps on the eyelid)
                meta:
                  restrictions:
                    - Available for ages 3 to 64 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 64
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_44q_449a_reason
                optionLabel: Swimmer's ear
                meta:
                  restrictions:
                    - Available for ages 3 to 64 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 64
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_16q_12a_deertickbitelymediseaseprevention
                optionLabel: Tick bite
                meta:
                  restrictions:
                    - Available for ages 5 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 5
                    establishedPatientsOnly: false
              - optionValue: cp_220q_449a_reason
                optionLabel: Travel health kit
                meta:
                  restrictions:
                    - Available for ages 13 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 13
                    establishedPatientsOnly: null
              - optionValue: cp_182q_449a_reason
                optionLabel: Travelers' diarrhea
                meta:
                  restrictions:
                    - Available for ages 18 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 18
                    establishedPatientsOnly: null
              - optionValue: cp_227q_449a_reason
                optionLabel: Tuberculosis screening
                meta:
                  restrictions:
                    - Available for ages 18 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 18
                    establishedPatientsOnly: false
              - optionValue: cp_49q_449a_reason
                optionLabel: Unknown or other skin condition
                meta:
                  restrictions:
                    - Available for ages 3 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 3
                    establishedPatientsOnly: null
              - optionValue: cp_42q_449a_reason
                optionLabel: Whooping cough exposure
                meta:
                  restrictions:
                    - Available for ages 3 to 75 years old.
                  eligibilitySettings:
                    patientGender: null
                    patientMaxAge: 75
                    patientMinAge: 3
                    establishedPatientsOnly: null
        errorDescriptions:
          medicationsAddError: There was an error adding your medication.
          medicationsDeleteError: There was an error deleting your medication.
          medicationsDiscontinuedError: There was an error discontinuing your medication.
          medicationsGetError: There was an error getting a list of your medications.
        actions:
          continue:
            actionLabel: Select
    all-data:
      value:
        conditionDetails:
          commonName: Urinary Tract Infection
          ctaButton: Start your UTI evaluation today
          description: |
            A urinary tract infection, or UTI, occurs when bacteria develop in any part
            of your urinary tract, causing an infection. Any infection that enters the
            urinary tract should be treated with a full course of antibiotics within the
            first week to avoid long-term damage and complications. If not treated
            early, bacteria may spread to the bladder and kidneys, increasing the risk
            of hospitalization.
          heading: Get fast, convenient care for UTIs. No appointment needed.
          label: cp_7q_449a_bladderinfection
          name: Urinary tract infection (UTI)
          urlSlug: urinary-tract-infection
          icon:
            altText: femaleBladderInfection
            darkModeImageUrl: |
              https://assets.zipnosis.com/PatientInterface/Conditions/bacterialvaginosis-b.webp
            imageUrl: |
              https://assets.zipnosis.com/PatientInterface/Conditions/bacterialvaginosis-b.webp
        fulfillmentOptions:
          retail:
            drugNames:
              - Amoxicillin Clavulanate
              - Cefixime
              - Sulfadiazine
              - Unasyn Bulk Pack
            priceRange:
              label: Total cost
              maxPrice:
                amount: '226.08'
                currency: USD
                display: $226.08
              minPrice:
                amount: '11.50'
                currency: USD
                display: $11.50
        treatmentOptions:
          - perksId: 0199000220|Amoxicillin Clavulanate
            commonName: Amoxicillin Clavulanate
            urlSlug: amoxicillin-clavulanate
            formulationId: '00781185220'
            price:
              amount: '11.50'
              currency: USD
              display: $11.50
            quantity: 20
            drugType: BRAND
          - perksId: 0230006000|Cefixime
            commonName: Cefixime
            urlSlug: cefixime
            formulationId: '67877058450'
            price:
              amount: '24.46'
              currency: USD
              display: $24.46
            quantity: 2
            drugType: BRAND
          - perksId: 0800002000|Sulfadiazine
            commonName: Sulfadiazine
            urlSlug: sulfadiazine
            formulationId: '38779055003'
            price:
              amount: '226.08'
              currency: USD
              display: $226.08
            quantity: 240
            drugType: BRAND
          - perksId: 0199000225|Unasyn Bulk Pack
            commonName: Unasyn Bulk Pack
            urlSlug: unasyn-bulk-pack
            formulationId: '00641611610'
            price:
              amount: '63.02'
              currency: USD
              display: $63.02
            quantity: 30
            drugType: BRAND
    fabric-only:
      value:
        conditionDetails:
          commonName: COVID-19
          ctaButton: Start your COVID-19 evaluation today
          description: |
            COVID-19 is a type of upper respiratory infection. Both cold and COVID-19
            have similar symptoms, so it can be hard to tell if you have a cold or
            COVID-19. Common symptoms of COVID-19 include but are not limited to fever,
            cough, body aches, loss of taste or smell, and shortness of breath. These
            symptoms appear 2-14 days after you are exposed to the virus that causes
            COVID-19. 


            COVID-19 is contagious and caused by the coronavirus, also known as
            SARS-CoV-2. The virus can spread through droplets when an infected person
            coughs, sneezes, or talks. Close contact with an infected person or touching
            contaminated surfaces can also transmit the virus. The best way to protect
            yourself is to avoid being exposed to this virus.
          heading: Get fast, convenient care for COVID-19. No appointment needed.
          label: cp_12q_449a_covid19coronavirus
          name: COVID-19
          urlSlug: covid-19
          icon:
            altText: covid
            darkModeImageUrl: https://assets.zipnosis.com/PatientInterface/Conditions/covid-a.webp
            imageUrl: https://assets.zipnosis.com/PatientInterface/Conditions/covid-a.webp
        fulfillmentOptions:
          retail:
            drugNames:
              - Antivirals
              - Antihistamines
              - Decongestants
              - Nasal sprays
              - Inhalants
              - Over-the-counter medications
        treatmentOptions:
          - commonName: Antivirals
            urlSlug: antivirals
            drugType: GENERIC
            description: Antivirals
          - commonName: Antihistamines
            urlSlug: antihistamines
            drugType: GENERIC
            description: Antihistamines
          - commonName: Decongestants
            urlSlug: decongestants
            drugType: GENERIC
            description: Decongestants
          - commonName: Nasal sprays
            urlSlug: nasal-sprays
            drugType: GENERIC
            description: Nasal sprays
          - commonName: Inhalants
            urlSlug: inhalants
            drugType: GENERIC
            description: Inhalants
          - commonName: Over-the-counter medications
            urlSlug: over-the-counter-medications
            drugType: GENERIC
            description: Over-the-counter medications
    nominal:
      value:
        server: healthy
        redis: ready
        db: connected
    failedDB:
      value:
        server: unhealthy
        redis: ready
        db: error
    redisWait:
      value:
        server: unhealthy
        redis: wait
        db: connected
    redisReconnecting:
      value:
        server: unhealthy
        redis: reconnecting
        db: connected
    redisConnecting:
      value:
        server: unhealthy
        redis: connecting
        db: connected
    redisConnect:
      value:
        server: unhealthy
        redis: connect
        db: connected
    redisClose:
      value:
        server: unhealthy
        redis: close
        db: connected
    redisEnd:
      value:
        server: unhealthy
        redis: end
        db: connected
    successfulPaymentIntent:
      value:
        paymentIntentId: pi_3MtwBwLkdIwHu7ix28a3tqPa
        amount: 2000
        amountReceived: 1500
        created: '2018-11-13T20:20:39+00:00'
        piClientSecret: pi_3MtwBwLkdIwHu7ix28a3tqPa_secret_YrKJUKribcBjcG8HVhfZluoGH
        invoiceId: in_1MtHbELkdIwHu7ixl4OzzPMv
        status: succeeded
        lastPaymentError: null
    failedPaymentIntent:
      value:
        paymentIntentId: pi_3MtwBwLkdIwHu7ix28a3tqPa
        amount: 2000
        amountReceived: 0
        created: '2018-11-13T20:20:39+00:00'
        piClientSecret: pi_3MtwBwLkdIwHu7ix28a3tqPa_secret_YrKJUKribcBjcG8HVhfZluoGH
        invoiceId: in_1MtHbELkdIwHu7ixl4OzzPMv
        status: requires_payment_method
        lastPaymentError:
          advice_code: confirm_card_data
          charge: ch_123456789
          code: expired_card
          decline_code: expired_card
          doc_url: https://stripe.com/docs/error-codes/expired-card
          message: Your card has expired.
          param: exp_month
          payment_method:
            id: pm_123456789
            object: payment_method
            allow_redisplay: unspecified
            billing_details:
              address:
                city: null
                country: null
                line1: null
                line2: null
                postal_code: '28277'
                state: null
              email: null
              name: null
              phone: null
            card:
              brand: visa
              checks:
                address_line1_check: null
                address_postal_code_check: pass
                cvc_check: pass
              country: US
              display_brand: visa
              exp_month: 1
              exp_year: 2025
              fingerprint: “1111111111111111"
              funding: credit
              generated_from: null
              last4: '0069'
              networks:
                available:
                  - visa
                preferred: null
              regulated_status: unregulated
              three_d_secure_usage:
                supported: true
              wallet: null
            created: 1737041825
            customer: null
            livemode: false
            metadata: {}
            radar_options: {}
            type: card
          type: card_error
  securitySchemes:
    bearerAuth:
      description: |
        Generate your JWT when you log in.
      type: http
      scheme: bearer
      bearerFormat: JWT
  responses:
    Error401Response:
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error401Unauthorized'
    Error403Response:
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error403Forbidden'
    Error404Response:
      description: Not Found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error404NotFound'
    Error400Response:
      description: Bad Request
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error400BadRequest'
  headers:
    session-token:
      description: |
        Returns a new session-token for any call that does not include  an Authorization Bearer-token
      schema:
        type: string
        format: byte
      example:
        BasicExample:
          value: ZTU0YTNkOTYtNTE1Ni00YTE0LWFiZDQtYzI2ZjdlYmVmYmQ5
